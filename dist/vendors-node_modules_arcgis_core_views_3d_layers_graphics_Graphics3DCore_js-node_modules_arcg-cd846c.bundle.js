"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkarcgis_starter"] = self["webpackChunkarcgis_starter"] || []).push([["vendors-node_modules_arcgis_core_views_3d_layers_graphics_Graphics3DCore_js-node_modules_arcg-cd846c"],{

/***/ "./node_modules/@arcgis/core/renderers/support/rendererConversion.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@arcgis/core/renderers/support/rendererConversion.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isSupportedRenderer3D\": () => (/* binding */ s),\n/* harmony export */   \"validateTo3D\": () => (/* binding */ u)\n/* harmony export */ });\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../symbols/support/symbolConversion.js */ \"./node_modules/@arcgis/core/symbols/support/symbolConversion.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction s(r){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isNone)(r)||\"simple\"===r.type||\"unique-value\"===r.type||\"class-breaks\"===r.type||\"dictionary\"===r.type||\"heatmap\"===r.type}function u(n,o){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isNone)(n))return null;if(!s(n))return new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"renderer-conversion-3d:unsupported-renderer\",`Unsupported renderer of type '${n.type||n.declaredClass}'`,{renderer:n});switch(n.type){case\"simple\":return i(n);case\"unique-value\":return a(n,o);case\"class-breaks\":return p(n);case\"dictionary\":case\"heatmap\":return null}return null}function l(e,n){if(!n)return null;let o;if(o=Array.isArray(n)?n:[n],o.length>0){const n=o.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const t=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||t.push(r)})),new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"renderer-conversion-3d:unsupported-symbols\",`Renderer contains symbols (${t.join(\", \")}) which are not supported in 3D`,{renderer:e,symbolErrors:o})}return null}function i(r){return l(r,(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol).error)}function a(r,e){const s={..._symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.defaultTo3DOptions,...e},u=r.uniqueValueInfos?.map((r=>(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol,s).error)).filter(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isSome),i=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.defaultSymbol,s);return i.error&&u?.unshift(i.error),l(r,u)}function p(r){const e=r.classBreakInfos.map((r=>(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.symbol).error)).filter(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.isSome),t=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_3__.to3D)(r.defaultSymbol);return t.error&&e.unshift(t.error),l(r,e)}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/renderers/support/rendererConversion.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/symbols/support/defaults3D.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/defaults3D.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getDefaultSymbol3D\": () => (/* binding */ b)\n/* harmony export */ });\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FillSymbol3DLayer.js */ \"./node_modules/@arcgis/core/symbols/FillSymbol3DLayer.js\");\n/* harmony import */ var _LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../LineSymbol3D.js */ \"./node_modules/@arcgis/core/symbols/LineSymbol3D.js\");\n/* harmony import */ var _MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MeshSymbol3D.js */ \"./node_modules/@arcgis/core/symbols/MeshSymbol3D.js\");\n/* harmony import */ var _PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../PointSymbol3D.js */ \"./node_modules/@arcgis/core/symbols/PointSymbol3D.js\");\n/* harmony import */ var _PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../PolygonSymbol3D.js */ \"./node_modules/@arcgis/core/symbols/PolygonSymbol3D.js\");\n/* harmony import */ var _edges_SolidEdges3D_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../edges/SolidEdges3D.js */ \"./node_modules/@arcgis/core/symbols/edges/SolidEdges3D.js\");\n/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./defaults.js */ \"./node_modules/@arcgis/core/symbols/support/defaults.js\");\n/* harmony import */ var _defaultsJSON_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./defaultsJSON.js */ \"./node_modules/@arcgis/core/symbols/support/defaultsJSON.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst a=_PointSymbol3D_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].fromSimpleMarkerSymbol(_defaults_js__WEBPACK_IMPORTED_MODULE_8__.defaultPointSymbol2D),c=_LineSymbol3D_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].fromSimpleLineSymbol(_defaults_js__WEBPACK_IMPORTED_MODULE_8__.defaultPolylineSymbol2D),S=_PolygonSymbol3D_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].fromSimpleFillSymbol(_defaults_js__WEBPACK_IMPORTED_MODULE_8__.defaultPolygonSymbol2D),u=new _MeshSymbol3D_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({symbolLayers:[new _FillSymbol3DLayer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]({material:{color:_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_9__.defaultColor},edges:new _edges_SolidEdges3D_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({size:\"1px\",color:_defaultsJSON_js__WEBPACK_IMPORTED_MODULE_9__.defaultOutlineColor})})]});function b(r){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isNone)(r))return null;switch(r.type){case\"mesh\":return u;case\"point\":case\"multipoint\":return a;case\"polyline\":return c;case\"polygon\":case\"extent\":return S}return null}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/symbols/support/defaults3D.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ExtentSet\": () => (/* binding */ _)\n/* harmony export */ });\n/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ \"./node_modules/@arcgis/core/core/PooledArray.js\");\n/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\");\n/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../support/Scheduler.js */ \"./node_modules/@arcgis/core/views/support/Scheduler.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst l=.05;class _{constructor(){this._extents=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({allocator:t=>t||(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)()}),this._tmpExtent=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.create)(),this._dirty=!1}get empty(){return 0===this._extents.length}get size(){return this._extents.length}clear(){this._extents.clear()}add(t){this._contains(t)||(this._removeContained(t),(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.copy)(this._extents.pushNew(),t),this._dirty=!0)}pop(){return this._dirty&&this._mergeTight(),this._extents.pop()}merge(t){return this._mergeTight(t),t.hasProgressed}_mergeTight(t=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_2__.noBudget){const e=this._extents,o=new Set;let i=0;for(;i!==e.length;){e.sort(((t,e)=>t[0]-e[0])),i=e.length,o.clear();for(let i=0;i<e.length;++i){if(t.done)return;const h=e.getItemAt(i);if(h){for(let t=i+1;t<e.length;++t){const r=e.getItemAt(t);if(null==r||r[0]>=h[2])break;o.add(r)}o.forEach((i=>{if(h===i)return;if(i[2]<=h[0])return void o.delete(i);const _=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.area)(h),a=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.area)(i),c=this._tmpExtent;(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.expand)(h,i,c);const g=_+a;((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.area)(c)-g)/g<l&&((0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.copy)(h,c),o.delete(i),e.remove(i),t.madeProgress())})),o.add(h)}}}this._dirty=!1}_contains(t){return this._extents.some((e=>(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.contains)(e,t)))}_removeContained(t){this._extents.filterInPlace((e=>!(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.contains)(t,e)))}get test(){const t=this;return{containsPoint:e=>t._extents.some((t=>(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_1__.containsPoint)(t,e)))}}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GraphicStateTracking\": () => (/* binding */ s)\n/* harmony export */ });\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ \"./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass s{constructor(t){this._graphicsCore=t,this._idToState=new Map,this._states=new Set;const i=t.owner.layer&&t.owner.layer.objectIdField;i?(this._getGraphicId=t=>(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_2__.getObjectId)(t,i),this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicByObjectId(t)):(this._getGraphicId=t=>t.uid,this._getGraphics3DGraphicById=t=>this._graphicsCore.getGraphics3DGraphicById(t))}destroy(){this._idToState.clear(),this._states.forEach(((t,i)=>this.remove(i)))}add(t){const e={remove:()=>this.remove(t)};if(this._states.has(t))return e;const s=this._getGraphicId(t.graphic),a=this._getGraphics3DGraphicById(s);this._states.has(t)||this._states.add(t);return this._ensureStateList(s).push(t),t.displaying=!!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(a)&&a.isVisible(),t.isDraped=!!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(a)&&a.isDraped,t.tracking=!0,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(a)&&t.emit(\"changed\"),e}remove(i){if(this._states.has(i)){if(this._idToState.size){const e=this._getGraphicId(i.graphic),s=this._idToState.get(e);s&&((0,_core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_0__.remove)(s,i),0===s.length&&this._idToState.delete(e))}this._states.delete(i),i.tracking=!1,i.displaying=!1}}addGraphic(t){this._forEachState(t,(i=>{i.displaying=t.isVisible(),i.isDraped=t.isDraped,i.emit(\"changed\")}))}removeGraphic(t){this._forEachState(t,(t=>{t.displaying=!1,t.isDraped=!1}))}updateGraphicGeometry(t){this._forEachState(t,(t=>t.emit(\"changed\")))}updateGraphicVisibility(t){this._forEachState(t,(i=>i.displaying=t.isVisible()))}allGraphicsDeleted(){this._states.forEach((t=>{t.displaying=!1}))}_ensureStateList(t){const i=this._idToState.get(t);if(i)return i;const e=new Array;return this._idToState.set(t,e),e}_forEachState(t,i){if(0===this._states.size||0===this._idToState.size)return;const e=this._getGraphicId(t.graphic),s=this._idToState.get(e);null!=s&&s.forEach(i)}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graphics3DCore\": () => (/* binding */ ke)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _geometry_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry.js */ \"./node_modules/@arcgis/core/geometry.js\");\n/* harmony import */ var _renderers_ClassBreaksRenderer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../renderers/ClassBreaksRenderer.js */ \"./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js\");\n/* harmony import */ var _renderers_DictionaryRenderer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../renderers/DictionaryRenderer.js */ \"./node_modules/@arcgis/core/renderers/DictionaryRenderer.js\");\n/* harmony import */ var _renderers_DotDensityRenderer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../renderers/DotDensityRenderer.js */ \"./node_modules/@arcgis/core/renderers/DotDensityRenderer.js\");\n/* harmony import */ var _renderers_HeatmapRenderer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../renderers/HeatmapRenderer.js */ \"./node_modules/@arcgis/core/renderers/HeatmapRenderer.js\");\n/* harmony import */ var _renderers_PieChartRenderer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../renderers/PieChartRenderer.js */ \"./node_modules/@arcgis/core/renderers/PieChartRenderer.js\");\n/* harmony import */ var _renderers_Renderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../renderers/Renderer.js */ \"./node_modules/@arcgis/core/renderers/Renderer.js\");\n/* harmony import */ var _renderers_SimpleRenderer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../renderers/SimpleRenderer.js */ \"./node_modules/@arcgis/core/renderers/SimpleRenderer.js\");\n/* harmony import */ var _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../renderers/UniqueValueRenderer.js */ \"./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js\");\n/* harmony import */ var _renderers_support_jsonUtils_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../renderers/support/jsonUtils.js */ \"./node_modules/@arcgis/core/renderers/support/jsonUtils.js\");\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../symbols.js */ \"./node_modules/@arcgis/core/symbols.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../core/Handles.js */ \"./node_modules/@arcgis/core/core/Handles.js\");\n/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ \"./node_modules/@arcgis/core/core/handleUtils.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../core/MapUtils.js */ \"./node_modules/@arcgis/core/core/MapUtils.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../core/PooledArray.js */ \"./node_modules/@arcgis/core/core/PooledArray.js\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ \"./node_modules/@arcgis/core/core/promiseUtils.js\");\n/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ \"./node_modules/@arcgis/core/core/reactiveUtils.js\");\n/* harmony import */ var _core_scheduling_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../core/scheduling.js */ \"./node_modules/@arcgis/core/core/scheduling.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../core/accessorSupport/diffUtils.js */ \"./node_modules/@arcgis/core/core/accessorSupport/diffUtils.js\");\n/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ \"./node_modules/@arcgis/core/chunks/vec3.js\");\n/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ \"./node_modules/@arcgis/core/chunks/vec3f64.js\");\n/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../geometry/projection.js */ \"./node_modules/@arcgis/core/geometry/projection.js\");\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\");\n/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\");\n/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ \"./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\");\n/* harmony import */ var _layers_Layer_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../layers/Layer.js */ \"./node_modules/@arcgis/core/layers/Layer.js\");\n/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ \"./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js\");\n/* harmony import */ var _layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../layers/graphics/hydratedFeatures.js */ \"./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js\");\n/* harmony import */ var _renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../renderers/support/rendererConversion.js */ \"./node_modules/@arcgis/core/renderers/support/rendererConversion.js\");\n/* harmony import */ var _support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../support/arcadeOnDemand.js */ \"./node_modules/@arcgis/core/support/arcadeOnDemand.js\");\n/* harmony import */ var _symbols_support_defaults3D_js__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../symbols/support/defaults3D.js */ \"./node_modules/@arcgis/core/symbols/support/defaults3D.js\");\n/* harmony import */ var _symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../symbols/support/symbolConversion.js */ \"./node_modules/@arcgis/core/symbols/support/symbolConversion.js\");\n/* harmony import */ var _ElevationQuery_js__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./ElevationQuery.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/ElevationQuery.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./enums.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/enums.js\");\n/* harmony import */ var _featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./featureExpressionInfoUtils.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/featureExpressionInfoUtils.js\");\n/* harmony import */ var _Graphics3DFeatureStore_js__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./Graphics3DFeatureStore.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js\");\n/* harmony import */ var _Graphics3DGraphicCreationContext_js__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./Graphics3DGraphicCreationContext.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicCreationContext.js\");\n/* harmony import */ var _Graphics3DSymbolCreationContext_js__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ./Graphics3DSymbolCreationContext.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js\");\n/* harmony import */ var _Graphics3DSymbolFactory_js__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ./Graphics3DSymbolFactory.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js\");\n/* harmony import */ var _Graphics3DWebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ./Graphics3DWebStyleSymbol.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DWebStyleSymbol.js\");\n/* harmony import */ var _GraphicStateTracking_js__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ./GraphicStateTracking.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/GraphicStateTracking.js\");\n/* harmony import */ var _graphicUtils_js__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ./graphicUtils.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js\");\n/* harmony import */ var _interfaces_js__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ./interfaces.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/interfaces.js\");\n/* harmony import */ var _Loadable_js__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ./Loadable.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Loadable.js\");\n/* harmony import */ var _SpatialIndex2D_js__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ./SpatialIndex2D.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js\");\n/* harmony import */ var _symbolComplexity_js__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ./symbolComplexity.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/symbolComplexity.js\");\n/* harmony import */ var _support_StageLayerElevationProvider_js__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../support/StageLayerElevationProvider.js */ \"./node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js\");\n/* harmony import */ var _support_extentUtils_js__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../support/extentUtils.js */ \"./node_modules/@arcgis/core/views/3d/support/extentUtils.js\");\n/* harmony import */ var _support_PropertiesPool_js__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../support/PropertiesPool.js */ \"./node_modules/@arcgis/core/views/3d/support/PropertiesPool.js\");\n/* harmony import */ var _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../webgl-engine/lib/GridLocalOriginFactory.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GridLocalOriginFactory.js\");\n/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js\");\n/* harmony import */ var _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../webgl-engine/lib/WebGLLayer.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js\");\n/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../../support/Scheduler.js */ \"./node_modules/@arcgis/core/views/support/Scheduler.js\");\n/* harmony import */ var _geometry_Extent_js__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../../../geometry/Extent.js */ \"./node_modules/@arcgis/core/geometry/Extent.js\");\n/* harmony import */ var _geometry_Point_js__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../../../geometry/Point.js */ \"./node_modules/@arcgis/core/geometry/Point.js\");\n/* harmony import */ var _symbols_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! ../../../../symbols/LabelSymbol3D.js */ \"./node_modules/@arcgis/core/symbols/LabelSymbol3D.js\");\n/* harmony import */ var _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! ../../../../symbols/TextSymbol.js */ \"./node_modules/@arcgis/core/symbols/TextSymbol.js\");\n/* harmony import */ var _symbols_WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! ../../../../symbols/WebStyleSymbol.js */ \"./node_modules/@arcgis/core/symbols/WebStyleSymbol.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar Le;const je=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_30__.c)(),Ve=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_32__.create)(),Fe=\"esri.views.3d.layers.graphics.Graphics3DCore\",Te=_core_Logger_js__WEBPACK_IMPORTED_MODULE_17__[\"default\"].getLogger(Fe);let ke=Le=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]{get _viewSpatialReference(){return this.owner.view.spatialReference}get spatialIndex(){return this._spatialIndex||(this._spatialIndex=new _SpatialIndex2D_js__WEBPACK_IMPORTED_MODULE_54__.SpatialIndex2D({objectIdField:this.owner.layer?.objectIdField,spatialReference:this._viewSpatialReference,hasZ:!!this.hasZ,hasM:!!this.hasM}),this._spatialIndex.setup(Array.from(this.graphics3DGraphics.values()))),this._spatialIndex.update(),this._spatialIndex}get numberOfGraphics(){return this._numberOfGraphics}get effectiveUpdatePolicy(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this.currentRenderer)&&\"dictionary\"===this.currentRenderer.type?_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.unwrapOr)(this._forcedUpdatePolicy,this.preferredUpdatePolicy)}get featureStore(){return this._featureStore}get initializePromise(){return this._initializePromise}get scaleVisibility(){return this._scaleVisibility}get elevationAlignment(){return this._elevationAlignment}get objectStates(){return this._objectStates}get filterVisibility(){return this._filterVisibility}get updating(){return!!(this._graphicsWaitingForSymbol.size>0||this.running||this._elevationAlignment?.updating||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._scaleVisibility)&&this._scaleVisibility.updating||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._filterVisibility)&&this._filterVisibility.updating||this._rendererChangeAbortController||this._elevationInfoChangeAbortController||this._updatingPendingLoadedGraphicsChange||this._frameTask.updating||this._loadingSymbols>0)}get running(){return this._pendingUpdates.size>0||!!this._spatialIndex?.updating}get suspendedOrOutsideOfView(){return this.owner.suspended||!!this.owner.suspendInfo?.outsideOfView}get updatingRemaining(){return this.updating?this._pendingUpdates.size+.1*(this._spatialIndex?.updatingRemaining||0)+.1*(this._elevationAlignment?.updatingRemaining||0):0}get displayFeatureLimit(){const e=this.owner&&this.owner.view&&this.owner.view.qualitySettings,i=e?e.graphics3D.minTotalNumberOfFeatures:0,t=e?e.graphics3D.maxTotalNumberOfFeatures:0,r=e?e.graphics3D.maxTotalNumberOfPrimitives:0,s=this.averageSymbolComplexity,a=Math.max(1,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(s)?s.primitivesPerFeature:1),n=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(s)&&s.drawCallsPerFeature>0?t/s.drawCallsPerFeature*.3:t,o=Math.ceil(r/a),l=Math.max(i,Math.min(t,o,n)),d=this._get(\"displayFeatureLimit\");return d&&d.minimumTotalNumberOfFeatures===i&&d.maximumTotalNumberOfFeatures===t&&d.maximumTotalNumberOfPrimitives===r&&d.averageSymbolComplexity===s&&d.maximumNumberOfFeatures===l?d:{minimumTotalNumberOfFeatures:i,maximumTotalNumberOfFeatures:t,maximumTotalNumberOfPrimitives:r,averageSymbolComplexity:s,maximumNumberOfFeatures:l}}get averageSymbolComplexity(){const e=(0,_symbolComplexity_js__WEBPACK_IMPORTED_MODULE_55__.averageSymbolComplexities)(this._symbolComplexities),i=this._get(\"averageSymbolComplexity\");return 0===e.numComplexities||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&(e.estimated&&(i.primitivesPerFeature>=e.primitivesPerFeature||i.primitivesPerCoordinate>=e.primitivesPerCoordinate||i.drawCallsPerFeature>=e.drawCallsPerFeature)||i.primitivesPerFeature===e.primitivesPerFeature&&i.primitivesPerCoordinate===e.primitivesPerCoordinate&&i.drawCallsPerFeature===e.drawCallsPerFeature)?i:e}get usedMemory(){const e=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this.averageSymbolComplexity)&&this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel*this._numberOfGraphics:0,i=this._getSymbolComplexitiesUsed().reduce(((e,i)=>e+i.memory.resourceBytes),0);return this._usedMemory+e+i}get usedMemoryPerGraphic(){if(this._usedMemory&&this._numberOfGraphics){const e=this._numberOfGraphics/(this._numberOfGraphics+Math.max(this._pendingAdds,this._pendingRemoves));return this._usedMemory/this._numberOfGraphics*e}if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this.averageSymbolComplexity)){const e=this.labelsEnabled?this.averageSymbolComplexity.memory.bytesPerFeatureLabel:0;return this.averageSymbolComplexity.memory.bytesPerFeature+e}return 0}get unprocessedMemoryEstimate(){return(this._pendingAdds-this._pendingRemoves)*this.usedMemoryPerGraphic}get _symbolComplexities(){return this.currentRenderer?this._getSymbolComplexitiesUsedOrRenderer(this.currentRenderer):this._getSymbolComplexitiesUsed()}get visible(){return this._visible}_getConvertedSymbol(e){if(\"web-style\"===e.type)return e.clone();const i=this._symbolConversionCache.get(e.id);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i))return i;const t=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_41__.to3D)(e,{geometryType:this.layer?.geometryType??void 0,retainId:!0,hasLabelingContext:this._hasLabelingContext(e)}),r=t.symbol||null;return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(r)&&t.error&&Te.error(t.error.message),this._symbolConversionCache.set(e.id,r),r}_getSymbolComplexitiesUsedOrRenderer(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e))return[];const i=e.getSymbols(),t=\"backgroundFillSymbol\"in e?e.backgroundFillSymbol:null;if(!(t||i&&i.length))return[];const r=[],s=this._getSymbolComplexityUsedOrRenderer(t);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(s)&&r.push(s);for(const a of i){const e=this._getSymbolComplexityUsedOrRenderer(a);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e)&&r.push(e)}return r}_getSymbolComplexityUsedOrRenderer(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e))return null;const i=this._symbols.get(e.id);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i))return i.complexity;const t=this._getConvertedSymbol(e);return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(t)?(0,_symbolComplexity_js__WEBPACK_IMPORTED_MODULE_55__.defaultSymbolComplexity)(t):null}_getSymbolComplexitiesUsed(){const e=[];return this._symbols.forEach((i=>{(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&e.push(i.complexity)})),e}get _objectIdField(){return this.layer.objectIdField}constructor(e){super(e),this._propertiesPool=new _support_PropertiesPool_js__WEBPACK_IMPORTED_MODULE_58__.PropertiesPool({computedExtent:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_63__[\"default\"]},this),this.computedExtent=null,this.currentRenderer=null,this.rendererHasGeometryOperations=!1,this._graphicStateTracking=null,this.graphics3DGraphics=new Map,this.stageLayer=null,this.stage=null,this._graphicsDrapedUids=new Set,this._graphicsBySymbol=new Map,this._symbolConversionCache=new Map,this._symbols=new Map,this._graphicsWithoutSymbol=new Map,this._graphicsWaitingForSymbol=new Map,this._graphicsUpdateId=0,this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"],this._frameTask=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_62__.ImmediateTask,this._suspendSymbolCleanup=!1,this._arcadeOnDemand=null,this._rendererChangeAbortController=null,this._elevationInfoChangeAbortController=null,this._initializeAbortController=null,this._scaleVisibility=null,this._filterVisibility=null,this._spatialIndex=null,this.extentPadding=0,this._updatingPendingLoadedGraphicsChange=null,this._featureStore=null,this._deconflictor=null,this._labeler=null,this._objectStates=null,this._viewElevationProvider=null,this._stageLayerElevationProvider=null,this._sharedSymbolResourcesOwnerHandle=null,this._whenGraphics3DGraphicRequests={},this._pendingUpdates=new Map,this._numberOfGraphics=0,this._numberOfGraphicsProvidingElevation=0,this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this._loadingSymbols=0,this._pendingUpdatesPool=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"]({allocator:e=>e||new We,deallocator:e=>(e.clear(),e)}),this._symbolWarningLogged=!1,this._geometryWarningLogged=!1,this._objectIdInvisibleSet=new Set,this._whenSymbolRemoved=new _core_PooledArray_js__WEBPACK_IMPORTED_MODULE_20__[\"default\"],this.preferredUpdatePolicy=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.SYNC,this._forcedUpdatePolicy=null,this.elevationFeatureExpressionEnabled=!0,this.owner=null,this.layer=null,this.graphicSymbolSupported=!0,this.getRenderingInfoWithoutRenderer=!1,this.setUidToIdOnAdd=!0,this.hasZ=null,this.hasM=null,this._usedMemory=0,this._visible=!1,this._startCreateGraphics=!1,this.symbolCreationContext=new _Graphics3DSymbolCreationContext_js__WEBPACK_IMPORTED_MODULE_47__.Graphics3DSymbolCreationContext(e.owner.view.resourceController.scheduler,((e,i)=>this._frameTask.schedule(e,i)))}initialize(){this._featureStore=new _Graphics3DFeatureStore_js__WEBPACK_IMPORTED_MODULE_45__.Graphics3DFeatureStore({objectIdField:this.owner.layer&&this.owner.layer.objectIdField,hasZ:!!this.hasZ,hasM:!!this.hasM,viewSpatialReference:this._viewSpatialReference,featureSpatialReference:this.owner.featureSpatialReference,getSpatialIndex:()=>this.spatialIndex,forEach:e=>this.graphics3DGraphics.forEach(e)});const e=(e,i,t)=>this.spatialIndex.queryGraphicUIDsInExtent(e,i,t),{componentFactories:i}=this;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.elevationAlignment)){const t=i.elevationAlignment(this,e);this._elevationAlignment=t}if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.scaleVisibility)){const t=i.scaleVisibility(this,e);this._scaleVisibility=t}if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.filterVisibility)){const e=i.filterVisibility({featureStore:this._featureStore,getFeatureCount:()=>this.graphics3DGraphics.size,updateFeatureVisibilities:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityFlag.FILTER,e((0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_36__.getObjectId)(i.graphic,this._objectIdField)),_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityGroup.GRAPHIC))),setAllFeaturesVisibility:e=>this.modifyGraphics3DGraphicVisibilities((i=>i.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityFlag.FILTER,e,_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityGroup.GRAPHIC))),clearFeaturesVisibility:()=>this.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityFlag.FILTER)))});this._filterVisibility=e}if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.deconflictor)){const e=i.deconflictor(this);this._deconflictor=e}if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.labeler)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._scaleVisibility)){const e=i.labeler(this,this._scaleVisibility);this._labeler=e}if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.objectStates)){const e=i.objectStates(this);this._objectStates=e}this._initializeAbortController=new AbortController,this._initializePromise=this._initializeAsync()}async _initializeAsync(){const e=this._initializeAbortController?.signal,i=this.owner.view;this._viewElevationProvider=new _ElevationQuery_js__WEBPACK_IMPORTED_MODULE_42__.ViewElevationProvider(this._viewSpatialReference,i),this._initializeStage(i,this.layer.uid);const t=i.sharedSymbolResources;this.symbolCreationContext.sharedResources=t,this._sharedSymbolResourcesOwnerHandle=t.addGraphicsOwner(this.owner),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this.currentRenderer)&&(this.symbolCreationContext.renderer=this.currentRenderer),this.symbolCreationContext.stage=this.stage,this.symbolCreationContext.streamDataRequester=t.streamDataRequester,this.symbolCreationContext.renderCoordsHelper=i.renderCoordsHelper,this.symbolCreationContext.layer=this.layer,this.symbolCreationContext.graphicsCoreOwner=this.owner,this.symbolCreationContext.localOriginFactory=new _webgl_engine_lib_GridLocalOriginFactory_js__WEBPACK_IMPORTED_MODULE_59__.GridLocalOriginFactory(i.renderSpatialReference),this.symbolCreationContext.elevationProvider=i.elevationProvider,this.symbolCreationContext.notifyGraphicGeometryChanged=e=>this.notifyGraphicGeometryChanged(e),this.symbolCreationContext.notifyGraphicVisibilityChanged=e=>this.notifyGraphicVisibilityChanged(e);const r=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_44__.extractExpressionInfo)(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);if(this.symbolCreationContext.featureExpressionInfoContext=await (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_44__.createContext)(r,this._viewSpatialReference,e,Te),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.throwIfAborted)(e),this.symbolCreationContext.screenSizePerspectiveEnabled=i.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this.symbolCreationContext.physicalBasedRenderingEnabled=!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled,this.symbolCreationContext.skipHighSymbolLods=!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods,\"drapeSourceType\"in this.owner){const{owner:e}=this;this.symbolCreationContext.drapeSourceRenderer=i.basemapTerrain.overlayManager.registerGeometryDrapeSource(e),this._handles.add((0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_16__.makeHandle)((()=>i.basemapTerrain.overlayManager.unregisterDrapeSource(e))))}this._handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>this.suspendedOrOutsideOfView),(()=>this._frameTask.reschedule((()=>this._updateLayerVisibility())))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>[this.layer?.screenSizePerspectiveEnabled,this.owner.view.screenSizePerspectiveEnabled]),(()=>{const e=i.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled;e!==this.symbolCreationContext.screenSizePerspectiveEnabled&&(this.symbolCreationContext.screenSizePerspectiveEnabled=e,this._labeler?.reset(),this.recreateAllGraphicsAndSymbols())})),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>this.owner.slicePlaneEnabled),(e=>this._slicePlaneEnabledChange(!!e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>this.owner.view.state?.rasterPixelRatio),(()=>this._pixelRatioChange())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>!!this.owner.view.qualitySettings?.physicallyBasedRenderingEnabled),(e=>this._physicalBasedRenderingChange(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>!!this.owner.view.qualitySettings?.graphics3D?.skipHighSymbolLods),(e=>this._skipHighSymbolLoDsChange(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.when)((()=>i.basemapTerrain?.tilingScheme),(e=>{if(!e.spatialReference.equals(this.symbolCreationContext.overlaySR)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.basemapTerrain.spatialReference)&&(this.symbolCreationContext.overlaySR=i.basemapTerrain.spatialReference),this._handles.has(\"loaded-graphics\"))this.recreateAllGraphics();else{const e=()=>this.owner?.loadedGraphics;this._handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.on)(e,\"change\",(e=>{this._graphicsCollectionChanged(e),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}),{onListenerAdd:()=>{this.recreateAllGraphics(),this._signalUpdatingDuringAsyncLoadedGraphicsChange()}})],\"loaded-graphics\")}}),{initial:!0}),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>this.effectiveUpdatePolicy),(e=>{(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this.stageLayer)&&(this.stageLayer.updatePolicy=e),this.symbolCreationContext.isAsync=this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC,e===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.SYNC&&this.runTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_62__.noBudget)}),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.syncAndInitial)]),this._frameTask=i.resourceController.scheduler.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_62__.TaskPriority.GRAPHICS_CORE,this),this.layer&&\"featureReduction\"in this.layer&&this._handles.add((0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.watch)((()=>this.layer.featureReduction),(()=>this._deconflictor.featureReductionChange()))),this.notifyChange(\"averageSymbolComplexity\"),this.rendererChange(this.owner.renderer).catch((()=>{})),this._initializeAbortController=null}_abortInitialize(){this._initializeAbortController&&(this._initializeAbortController.abort(),this._initializeAbortController=null)}destroy(){this._abortInitialize(),this._abortRendererChange(),this._abortElevationInfoChange(),this._frameTask.remove(),this._frameTask=_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_62__.ImmediateTask,this.owner.view.deconflictor.removeGraphicsOwner(this),this.owner.view.labeler.removeGraphicsOwner(this),this._elevationAlignment=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._elevationAlignment),this._scaleVisibility=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._scaleVisibility),this._filterVisibility=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._filterVisibility),this._deconflictor=null,this._labeler=null,this._objectStates=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._objectStates),this.clear(),this._featureStore=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._featureStore),this._updatingPendingLoadedGraphicsChange=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.removeMaybe)(this._updatingPendingLoadedGraphicsChange),this._graphicStateTracking=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._graphicStateTracking),this.stage&&(this.stage.remove(this.stageLayer),this.stageLayer=null,this.stage=null),this._handles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._handles),this._set(\"owner\",null);for(const e in this._whenGraphics3DGraphicRequests)this._whenGraphics3DGraphicRequests[e].reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"](\"graphic:layer-destroyed\",\"Layer has been destroyed\"));this._whenGraphics3DGraphicRequests=null,this._sharedSymbolResourcesOwnerHandle=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.removeMaybe)(this._sharedSymbolResourcesOwnerHandle),this._propertiesPool=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._propertiesPool),this._pendingUpdatesPool=null,this._symbolConversionCache.clear(),this._objectIdInvisibleSet.clear(),this._spatialIndex=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(this._spatialIndex)}clear(){this._objectStates?.allGraphicsDeleted(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._graphicStateTracking)&&this._graphicStateTracking.allGraphicsDeleted(),this.graphics3DGraphics.forEach((e=>e.destroy())),this._spatialIndex?.clear(),this.graphics3DGraphics.clear(),this._numberOfGraphics=0,this._usedMemory=0,this._updateLayerVisibility(),this._symbols.forEach(_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe),this._symbols.clear(),this._graphicsBySymbol.clear(),this._graphicsWithoutSymbol.clear(),this._graphicsWaitingForSymbol.clear(),this._pendingUpdates.clear(),this._pendingUpdatesPool.clear(),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1,this.notifyChange(\"updating\"),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\"),this._featureStore.events.emit(\"changed\")}_initializeStage(e,i){this.stage=e._stage,this.stageLayer=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_61__.WebGLLayer({pickable:!this.suspendedOrOutsideOfView,updatePolicy:this.effectiveUpdatePolicy},i),this.stage.add(this.stageLayer);const t=this.stageLayer.events;t.on(\"objectTransformation\",(e=>this.notifyGraphicGeometryChanged(e.metadata.graphicUid))),t.on(\"visibilityChanged\",(e=>this.notifyGraphicVisibilityChanged(e.metadata.graphicUid))),t.on(\"objectGeometryAdded\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),t.on(\"objectGeometryRemoved\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid))),t.on(\"objectGeometryUpdated\",(e=>this.notifyGraphicGeometryChanged(e.object.metadata.graphicUid)))}notifyGraphicGeometryChanged(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(this._graphicStateTracking)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e))return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicGeometry(i)}notifyGraphicVisibilityChanged(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(this._graphicStateTracking)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e))return;const i=this.graphics3DGraphics.get(e);i&&this._graphicStateTracking.updateGraphicVisibility(i)}_updateLayerVisibility(){const e=this.displayFeatureLimit.maximumNumberOfFeatures,i=this._numberOfGraphics>e*Me,t=!this.suspendedOrOutsideOfView&&!i;t!==this._visible&&(this._visible=t,t?(this.stageLayer.pickable=!0,this.updateAllGraphicsVisibility()):(this.stageLayer.pickable=!1,this._hideAllGraphics()),this._updateStageLayerVisibility())}_updateStageLayerVisibility(){this.stageLayer.visible=this._visible&&(null==this.layer.opacity||this.layer.opacity>0)}getGraphics3DGraphicById(e){return null!=e?this.graphics3DGraphics.get(e):void 0}getGraphics3DGraphicByObjectId(e){return this.owner.layer?.objectIdField?this._findGraphics3DGraphicByObjectId(e):null}_getGraphicObjectID(e,i=this.owner.layer&&this.owner.layer.objectIdField){return (0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_36__.getObjectId)(e,i)}get graphics3DGraphicsByObjectID(){const e=this.owner.layer&&this.owner.layer.objectIdField;if(!e)return;const i=new Map;return this.graphics3DGraphics.forEach((t=>{if(!t)return;const r=t.graphic,s=this._getGraphicObjectID(r,e);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(s)&&i.set(s,t)})),i}get labelsEnabled(){return!(!this._labeler||!this._labeler.layerLabelsEnabled())}async updateLabelingInfo(e){const i=this._deconflictor&&this._deconflictor.labelingInfoChange(e),t=this._labeler&&this._labeler.labelingInfoChange(e);await (0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.eachAlways)([i,t])}updateVisibilityInfo(){this._deconflictor&&this._deconflictor.labelingInfoChange(),this._labeler&&this._labeler.visibilityInfoChange()}get symbolUpdateType(){if(this._pendingUpdates.size>0)return\"unknown\";let e=0,i=0;return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__.someMap)(this._symbols,((t,r)=>{if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(t)){const s=t.getFastUpdateStatus();if(s.loading>0)return!0;this._graphicsBySymbol.has(r)&&(i+=s.fast,e+=s.slow)}return!1}))?\"unknown\":i>=0&&0===e?\"fast\":e>=0&&0===i?\"slow\":\"mixed\"}runTask(e){if(this._frameTask.processQueue(e),this._applyPendingUpdates(e),this.notifyChange(\"running\"),this.running||this.notifyChange(\"updating\"),this.notifyChange(\"updatingRemaining\"),!e.hasProgressed)return _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_62__.Task.YIELD}setObjectIdVisibility(e,i){i?this._objectIdInvisibleSet.delete(e):this._objectIdInvisibleSet.add(e);const t=this._findGraphics3DGraphicByObjectId(e);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(t)&&this._updateUserVisibility(t)}_findGraphics3DGraphicByObjectId(e){return (0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_18__.findInMap)(this.graphics3DGraphics,(i=>this._getGraphicObjectID(i.graphic)===e))}_updateUserVisibility(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e))return!1;const i=e.graphic,t=this._getGraphicObjectID(i),r=i.visible&&!this.owner.suspended&&((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(t)||!this._objectIdInvisibleSet.has(t));return e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityFlag.USER_SETTING,r,_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityGroup.GRAPHIC)}_whenGraphics3DGraphic(e){const i=this.graphics3DGraphics.get(e.uid);if(i)return Promise.resolve(i);const t=this._whenGraphics3DGraphicRequests[e.uid];if(t)return t.promise;const r=(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.createDeferred)();return this._whenGraphics3DGraphicRequests[e.uid]=r,r.promise}async _boundsForGraphics3DGraphic(e,i){const t=this._viewSpatialReference,r=this.owner.view.renderSpatialReference,s=this.owner.view.basemapTerrain.spatialReference,a=(e,i,s)=>(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__.projectBuffer)(e,r,i,e,t,i,s),n=(e,i,r)=>(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__.projectBuffer)(e,s,i,e,t,i,r),o=this._viewElevationProvider?{service:this._viewElevationProvider,useViewElevation:!!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&!!i.useViewElevation,minDemResolution:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)?i.minDemResolution:null,minDemResolutionForPoints:this.owner.view.resolution}:null,l=await e.getProjectedBoundingBox(a,n,o,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.get)(i,\"signal\"));if(!l)return null;const p=l.boundingBox;if(l.requiresDrapedElevation){const e=this.symbolCreationContext.elevationProvider;if(e){(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_32__.center)(p,je);const i=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.unwrapOr)(e.getElevation(je[0],je[1],0,t,\"ground\"),0);p[2]=Math.min(p[2],i),p[5]=Math.max(p[5],i)}}return{boundingBox:p,screenSpaceObjects:l.screenSpaceObjects}}async whenGraphicBounds(e,i){await (0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_22__.whenOnce)((()=>this.owner?.loadedGraphics));const t=this.owner.layer&&this.owner.layer.objectIdField,s=this.owner.loadedGraphics.find((i=>i===e||null!=t&&null!=i.attributes&&e.attributes&&i.attributes[t]===e.attributes[t]));if(!s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"](\"internal:graphic-not-part-of-view\",\"Graphic is not part of this view\");const a=await this._whenGraphics3DGraphic(s);return this._boundsForGraphics3DGraphic(a,i)}computeAttachmentOrigin(e,i){const t=this.graphics3DGraphics.get(e.uid);if(!t)return null;const r=t.computeAttachmentOrigin();if(0===r.render.num&&0===r.draped.num)return null;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_29__.s)(Ne,0,0,0);let s=0;if(r.render.num>0){if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__.projectVectorToVector)(r.render.origin,this.symbolCreationContext.renderCoordsHelper.spatialReference,Be,i))return null;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_29__.a)(Ne,Ne,Be),s++}if(r.draped.num>0){const[e,t]=r.draped.origin,a=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.unwrapOr)(this._viewElevationProvider.getElevation(e,t,\"ground\"),0);if((0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_29__.s)(Be,e,t,a),!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__.projectVectorToVector)(Be,this._viewElevationProvider.spatialReference,Be,i))return null;(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_29__.a)(Ne,Ne,Be),s++}return s>1&&(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_29__.g)(Ne,Ne,1/s),new _geometry_Point_js__WEBPACK_IMPORTED_MODULE_64__[\"default\"]({x:Ne[0],y:Ne[1],z:Ne[2],spatialReference:i})}getSymbolLayerSize(e,i){const t=this._symbols.get(e.id);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(t))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"](\"internal:symbol-not-part-of-view\",\"Symbol is not part of this view\");const s=e.symbolLayers.indexOf(i);if(-1===s)throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"](\"internal:missing-symbol-layer\",\"Symbol layer is not in symbol\");const a=t.getSymbolLayerSize(s);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(a))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"](\"internal:missing-size\",\"Symbol layer has no valid size\");return a}_graphicsCollectionChanged(e){this._startCreateGraphics&&(this.add(e.added),this.remove(e.removed))}graphicUpdateHandler(e){const i=e.graphic.uid,t=this.graphics3DGraphics.get(i);if(!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(t)||!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(this._graphicsWithoutSymbol.get(i)))switch(e.property){case\"visible\":this._graphicUpdateVisibleHandler(t);break;case\"geometry\":this._graphicUpdateGeometryHandler(t,e);break;case\"symbol\":this._graphicUpdateSymbolHandler(t,e);break;case\"attributes\":break;case\"transform\":this._graphicUpdateTransformHandler(t,e)}}_graphicUpdateGeometryHandler(e,i){const t=i.graphic.geometry;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(t))return void this._recreateGraphic(i.graphic);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e)){const e=i.graphic.symbol&&i.graphic.symbol.id;if(e){const i=this._symbols.get(e);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&i.loadStatus===_Loadable_js__WEBPACK_IMPORTED_MODULE_53__.LoadStatus.LOADING)return}return void this._recreateGraphic(i.graphic)}const r=e.graphics3DSymbol;!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(i.newValue)&&r.updateGeometry(e,i.newValue)||this._recreateGraphic(e.graphic),this._expandComputedExtent(t)}_graphicUpdateSymbolHandler(e,i){const t=i.graphic,r=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e)?e.graphics3DSymbol:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.oldValue)?this._symbols.get(i.oldValue.id):null;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(r)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(i.newValue))return void this._recreateGraphic(t);const s=r.symbol,a=this._getConvertedSymbol(i.newValue);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(a)&&(a.type!==s.type||\"web-style\"===a.type)||\"web-style\"===s.type)return void this._recreateGraphic(t);const n=this._graphicsBySymbol.get(s.id);if(n&&1!==n.size)return void this._recreateGraphic(t);const o=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_28__.diff)(s,a);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(o))return void this._updateSymbolMapping(s.id,a);const l={diff:o,graphics3DGraphicPatches:[],symbolStatePatches:[]};if(r.prepareSymbolPatch(l),!(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_28__.isEmpty)(l.diff))return void this._recreateGraphic(t);const d=this._getRenderingInfo(t);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(d))return void this._recreateGraphic(t);const c=r.extentPadding;for(const h of l.symbolStatePatches)h();if(c!==r.extentPadding&&this._recomputeExtentPadding(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e))for(const h of l.graphics3DGraphicPatches)h(e,d);this._updateSymbolMapping(s.id,a)}_graphicUpdateVisibleHandler(e){this._updateUserVisibility(e)&&(this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty())}_graphicUpdateTransformHandler(e,i){}recreateGraphics(e){this._suspendSymbolCleanup=!0,this.remove(e),this.add(e),this._suspendSymbolCleanup=!1,this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.SYNC&&this._cleanupSymbols()}_recreateGraphic(e){this.recreateGraphics([e])}_beginGraphicUpdate(e){const i=this._graphicsUpdateId;return this._graphicsUpdateId++,this._graphicsWaitingForSymbol.set(e.uid,i),1===this._graphicsWaitingForSymbol.size&&this.notifyChange(\"updating\"),i}_endGraphicUpdate(e){e&&(this._graphicsWaitingForSymbol.delete(e.uid),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\")))}_recomputeExtentPadding(){let e=0;this._symbols.forEach((i=>{(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&(e=Math.max(e,i.extentPadding))})),this._set(\"extentPadding\",e)}_expandComputedExtent(e){const i=Ve,t=e.spatialReference;(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_36__.computeAABB)(e,i);const r=this._viewSpatialReference,s=Le.tmpVec;if((0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_34__.equals)(t,r)||(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__.projectXYZToVector)(i[0],i[1],0,t,s,r)&&(i[0]=s[0],i[1]=s[1],(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__.projectXYZToVector)(i[3],i[4],0,t,s,r),i[3]=s[0],i[4]=s[1]),!(isFinite(i[0])&&isFinite(i[3])&&isFinite(i[1])&&isFinite(i[4])))return;const a=this.computedExtent;let n=null;const o=isFinite(i[2])&&isFinite(i[5]),l=o&&(!a||null==a.zmin||i[2]<a.zmin),h=o&&(!a||null==a.zmax||i[5]>a.zmax);if(a){(i[0]<a.xmin||i[1]<a.ymin||i[3]>a.xmax||i[4]>a.ymax||l||h)&&(n=this._propertiesPool.get(\"computedExtent\"),n.xmin=Math.min(i[0],a.xmin),n.ymin=Math.min(i[1],a.ymin),n.xmax=Math.max(i[3],a.xmax),n.ymax=Math.max(i[4],a.ymax),n.spatialReference=r)}else n=this._propertiesPool.get(\"computedExtent\"),n.xmin=i[0],n.ymin=i[1],n.xmax=i[3],n.ymax=i[4],n.spatialReference=r;n&&(l&&(n.zmin=i[2]),h&&(n.zmax=i[5]),this._set(\"computedExtent\",n))}_abortElevationInfoChange(){this._elevationInfoChangeAbortController&&(this._elevationInfoChangeAbortController.abort(),this._elevationInfoChangeAbortController=null)}async elevationInfoChange(){this._abortElevationInfoChange();const e=new AbortController;this._elevationInfoChangeAbortController=e;const i=(0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_44__.extractExpressionInfo)(this.layer.elevationInfo,this.elevationFeatureExpressionEnabled);this.symbolCreationContext.featureExpressionInfoContext=await (0,_featureExpressionInfoUtils_js__WEBPACK_IMPORTED_MODULE_44__.createContext)(i,this._viewSpatialReference,e.signal,Te),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.throwIfAborted)(e.signal),this._elevationInfoChangeAbortController=null,this._labeler?.elevationInfoChange(),this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"elevationInfo\",i)?i.forEach((e=>{const i=e.graphic,t=e.labelLayers;for(const r of t){r.graphics3DSymbolLayer.updateGraphicElevationContext(i,r)}})):this._recreateSymbol(t)})),this.updateStageLayerElevationProvider(),this._elevationAlignment?.elevationInfoChange()}updateStageLayerElevationProvider(){this._stageLayerElevationProvider?(this.layer.elevationInfo&&\"relative-to-scene\"===this.layer.elevationInfo.mode||0===this._numberOfGraphicsProvidingElevation)&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.disposeMaybe)(this._stageLayerElevationProvider)):(!this.layer.elevationInfo||this.layer.elevationInfo&&\"relative-to-scene\"!==this.layer.elevationInfo.mode)&&this._numberOfGraphicsProvidingElevation>0&&(this._stageLayerElevationProvider=new _support_StageLayerElevationProvider_js__WEBPACK_IMPORTED_MODULE_56__.StageLayerElevationProvider({layer:this.layer,stageLayer:this.stageLayer,view:this.owner.view}),this.owner.view.elevationProvider.register(\"scene\",this._stageLayerElevationProvider))}_clearSymbolsAndGraphics(){this.clear(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._filterVisibility)&&this._filterVisibility.clear(),this._labeler?.reset(),this._deconflictor?.clear(),this._elevationAlignment?.clear(),this.stageLayer?.invalidateSpatialQueryAccelerator(),this._stageLayerElevationProvider&&(this.owner.view.elevationProvider.unregister(this._stageLayerElevationProvider),this._stageLayerElevationProvider=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.disposeMaybe)(this._stageLayerElevationProvider))}startCreateGraphics(){this._startCreateGraphics=!0,this.recreateAllGraphics()}recreateAllGraphics(){this._recreateAllGraphics(!1)}recreateAllGraphicsAndSymbols(){this._recreateAllGraphics(!0)}_recreateAllGraphics(e=!1){if(!this._startCreateGraphics)return;const{loadedGraphics:i,view:t}=this.owner,r=t.basemapTerrain.tilingScheme&&i&&i.length?i.toArray():null;!e&&r||this._clearSymbolsAndGraphics(),this.symbolCreationContext.screenSizePerspectiveEnabled=this.owner.view.screenSizePerspectiveEnabled&&!!this.layer.screenSizePerspectiveEnabled,this.symbolCreationContext.slicePlaneEnabled=!!this.owner.slicePlaneEnabled,this._set(\"computedExtent\",null),r&&(e?this.add(r):this.recreateGraphics(r))}_recreateSymbol(e){const i=this._graphicsBySymbol.get(e),t=[];i&&(i.forEach(((e,i)=>{const r=e.usedMemory;this._conditionalRemove(e,i),this._spatialIndex?.remove(e),t.push(e.graphic),e.destroy(),this._removeGraphics3DGraphic(i,r),this._updateLayerVisibility(),this._featureStore.events.emit(\"changed\")})),this._graphicsBySymbol.set(e,new Map));const r=this._symbols.get(e);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(r),this._symbols.delete(e),this.add(t)}_recreateGraphicsForSymbol(e){const i=this._graphicsBySymbol.get(e);if(i){const e=[];i.forEach((i=>e.push(i.graphic))),this.recreateGraphics(e)}}_conditionalRemove(e,i){this._graphicsDrapedUids.delete(i),this._objectStates?.removeGraphic(e),this._labeler?.removeGraphic(e),this._deconflictor?.removeGraphic(e),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._graphicStateTracking)&&this._graphicStateTracking.removeGraphic(e)}add(e){e&&0!==e.length&&(this.owner.view.basemapTerrain&&this.owner.view.basemapTerrain.tilingScheme?(this._updatePolicyForGraphics(e)===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC?this._addDelayed(e):this._addImmediate(e),this.notifyChange(\"updating\")):Te.error(\"#add()\",\"Cannot add graphics before terrain surface has been initialized\"))}_updatePolicyForGraphics(e){if(this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.SYNC&&(\"mesh\"===this.layer.geometryType||null==this.layer.geometryType))for(const i of e)if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i.geometry)&&\"mesh\"===i.geometry.type&&!i.geometry.loaded)return _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC;return this.effectiveUpdatePolicy}_addImmediate(e){this._geometryWarningLogged=!1,this._symbolWarningLogged=!1;for(const i of e)this._addGraphic(i,this._getRenderingInfo(i,Te),_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.SYNC);this._cleanupSymbols(),this._labeler&&(this.owner.view.labeler.setDirty(),this._cleanupSymbols()),this.owner.view.deconflictor.setDirty()}_addDelayed(e){for(const i of e){const e=i.uid;let t=this._pendingUpdates.get(e);t?t.add?t.state!==ze.NEW&&t.abortController?.abort():this._pendingAdds++:(t=this._pendingUpdatesPool.pushNew(),this._pendingAdds++,this._pendingUpdates.set(e,t)),t.add=i}this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}remove(e){this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC?this._removeDelayed(e):this._removeImmediate(e),this.notifyChange(\"updating\")}_removeImmediate(e){for(const i of e)this._removeGraphic(i);this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_removeDelayed(e){for(const i of e){const e=i.uid,t=this._pendingUpdates.get(e);if(t)t.add&&(t.remove?t.add=null:this._pendingUpdates.delete(e),t.state===ze.LOADING&&t.abortController?.abort(),this._pendingAdds--);else{const t=this._pendingUpdatesPool.pushNew();t.remove=i,this._pendingUpdates.set(e,t),this._pendingRemoves++,this._applyPendingRemovesFirst=!0}}0===this._pendingUpdates.size&&this._finishPendingUpdates(),this.notifyChange(\"running\"),this.notifyChange(\"updatingRemaining\")}_finishPendingUpdates(){this._pendingUpdatesPool.clear(),this._cleanupSymbols(),(this._pendingAdds||this._pendingRemoves)&&Te.warn(\"pendingAdds/Removes in inconsistent state!\"),this._pendingAdds=0,this._pendingRemoves=0,this._applyPendingRemovesFirst=!1}_applyPendingUpdates(e){if(this._geometryWarningLogged=!1,this._symbolWarningLogged=!1,0===this._pendingUpdates.size&&this._spatialIndex?.updating)return this._spatialIndex.update(),void e.madeProgress();if(this._applyPendingRemovesFirst){this._applyPendingRemovesFirst=!1;for(const[i,t]of this._pendingUpdates){if(e.done){this._applyPendingRemovesFirst=!0;break}if(t.remove&&!t.add&&(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(t.remove),t.remove=null,this._pendingUpdates.delete(i),0===this._pendingRemoves))break}}for(const[i,t]of this._pendingUpdates){if(e.done)break;t.add&&t.state===ze.NEW&&this._processPendingUpdateNew(t);let r=this.effectiveUpdatePolicy;if(!t.remove||t.add&&t.state!==ze.READY||(this._pendingRemoves--,e.madeProgress(),this._removeGraphic(t.remove),t.remove=null,r=_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.SYNC),t.add)switch(t.state){case ze.READY:this._addGraphic(t.add,t.renderingInfo,r),t.add=null,this._pendingAdds--,e.madeProgress();break;case ze.REJECTED:t.add=null,this._pendingAdds--;case ze.LOADING:}null==t.remove&&null==t.add&&this._pendingUpdates.delete(i)}0===this._pendingUpdates.size&&(this._finishPendingUpdates(),this.notifyChange(\"running\"))}_processPendingUpdateNew(e){if(!e.add)return void(e.state=ze.READY);const i=e.add.geometry;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&\"mesh\"===i.type&&!i.loaded?this._processPendingUpdateNewMesh(e,i):this._processPendingUpdateNewRenderingInfo(e)}async _processPendingUpdateNewMesh(e,i){e.state=ze.LOADING,e.abortController=new AbortController;const t=e.abortController.signal;try{await i.load({signal:t})}catch(r){return this._processPendingUpdateNewError(e,r)}e.abortController=null,this._processPendingUpdateNewRenderingInfo(e)}_processPendingUpdateNewError(e,i){e.abortController=null,(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.isAbortError)(i)?e.state=ze.NEW:e.state=ze.REJECTED}async _processPendingUpdateNewRenderingInfo(e){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(this.layer.renderer)||\"dictionary\"!==this.layer.renderer.type)return e.renderingInfo=this._getRenderingInfo(e.add,Te),void(e.state=ze.READY);e.state=ze.LOADING,e.abortController=new AbortController;let i=null;try{i=await this._getRenderingInfoAsync(e.add,{signal:e.abortController.signal})}catch(t){return e.abortController=null,void((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.isAbortError)(t)?e.state=ze.NEW:e.state=ze.REJECTED)}(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(i)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(i.symbol)?(Te&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Te.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),e.renderingInfo=null):e.renderingInfo=i,e.state=ze.READY}_addGraphic(e,i,t){if(this._graphicsWithoutSymbol.set(e.uid,e),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(i)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(i.symbol)||!(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_36__.hasGeometry)(e))return;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this.stage.renderView.objectAndLayerIdRenderHelper)&&this.setUidToIdOnAdd&&this.stage.renderView.objectAndLayerIdRenderHelper.setUidToObjectAndLayerId(e.objectId,e.uid,this.layer.id,this.layer.uid,!!this.layer.popupEnabled);const r=i.symbol,s=this.getOrCreateGraphics3DSymbol(r,i.renderer);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(s))return;this._expandComputedExtent(e.geometry);const a=this._beginGraphicUpdate(e),n=new _Graphics3DGraphicCreationContext_js__WEBPACK_IMPORTED_MODULE_46__[\"default\"](e,i,this.layer);let o=!1;const l=e=>{e===s.symbol.id&&(o=!0)};this._whenSymbolRemoved.push(l);const d=()=>{if(--this._loadingSymbols,this.destroyed)return;this._whenSymbolRemoved.removeUnordered(l);if(this._graphicsWaitingForSymbol.get(e.uid)!==a||o||s.destroyed||this.graphicSymbolSupported&&e.symbol&&e.symbol.id!==s.symbol.id)--s.referenced,this._cleanupSymbols();else{const i=this._createGraphics3DGraphic(s,n);this._spatialIndex&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&this._spatialIndex.add(i),--s.referenced,this._endGraphicUpdate(e)}this._featureStore.events.emit(\"changed\"),this._labeler&&this.owner.view.labeler.setDirty()},c=i=>{--this._loadingSymbols,this.destroyed||(this._whenSymbolRemoved.removeUnordered(l),o||((0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.isAbortError)(i)?this.add([e]):s.destroyed||this._endGraphicUpdate(e)))};++this._loadingSymbols,t===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC?s.load((()=>this._frameTask.schedule(d)),(e=>this._frameTask.schedule((()=>c(e))))):s.load(d,c)}_removeGraphic(e){const i=e.uid,t=this.graphics3DGraphics.get(i);if(t){t.graphics3DSymbol.onRemoveGraphic(t);const e=t.usedMemory,r=t.isElevationSource;this._conditionalRemove(t,i),this._spatialIndex?.remove(t);const s=t.graphics3DSymbol.symbol.id;this._graphicsBySymbol.get(s)?.delete(i),this._graphicsWithoutSymbol.delete(i),this._removeGraphics3DGraphic(i,e,r),t.destroy(),this._featureStore.events.emit(\"changed\")}else this._graphicsWithoutSymbol.delete(i),this._graphicsWaitingForSymbol.delete(i),0===this._graphicsWaitingForSymbol.size&&(this._cleanupSymbols(),this.notifyChange(\"updating\"))}_hasLabelingContext(e){if(e instanceof _symbols_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_65__[\"default\"]||e instanceof _symbols_TextSymbol_js__WEBPACK_IMPORTED_MODULE_66__[\"default\"]){const i=this.symbolCreationContext.layer;return!!i.labelingInfo&&i.labelingInfo.some((i=>i.symbol===e))}return!1}_hasValidSymbolCreationContext(e){return!(e instanceof _symbols_LabelSymbol3D_js__WEBPACK_IMPORTED_MODULE_65__[\"default\"]&&!this._hasLabelingContext(e))||(Te.error(\"LabelSymbol3D is only valid as part of a LabelClass. Using LabelSymbol3D as a renderer symbol is not supported.\"),!1)}_getRenderingInfo(e,i){const t=e.geometry;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(t))return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_31__.canProjectWithoutEngine)(t.spatialReference,this._viewSpatialReference))return i&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has incompatible spatial reference and will not render`)),null;if(!this.graphicSymbolSupported&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e.symbol))return i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_37__.hydrateGraphic)(e,this.layer):e;let s;if(this.owner.getRenderingInfo&&(this.getRenderingInfoWithoutRenderer||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this.currentRenderer)))s=this.owner.getRenderingInfo(r,this.currentRenderer,this._arcadeOnDemand);else{s={symbol:r.symbol||(0,_symbols_support_defaults3D_js__WEBPACK_IMPORTED_MODULE_40__.getDefaultSymbol3D)(r.geometry)}}return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(s)||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(s.symbol)?(i&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,i.warn(`Graphic in layer ${this.layer.id} has no symbol and will not render`)),null):s}_getRenderingInfoAsync(e,i){const t=e.geometry;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(t))return Te&&!this._geometryWarningLogged&&(this._geometryWarningLogged=!0,Te.warn(`Graphic in layer ${this.layer.id} has no geometry and will not render`)),null;if(!this.graphicSymbolSupported&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e.symbol))return Te&&!this._symbolWarningLogged&&(this._symbolWarningLogged=!0,Te.warn(`Graphic in layer ${this.layer.id} is not allowed to have a symbol, use a renderer instead`)),null;const r=this.rendererHasGeometryOperations?(0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_37__.hydrateGraphic)(e,this.layer):e;return this.owner.getRenderingInfoAsync(r,this.currentRenderer,this._arcadeOnDemand,i)}_createGraphics3DSymbol(e,i){if(!this._hasValidSymbolCreationContext(e))return null;const t=this._getConvertedSymbol(e);if(!t)return null;let r;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&\"backgroundFillSymbol\"in i&&i.backgroundFillSymbol){const e=(0,_symbols_support_symbolConversion_js__WEBPACK_IMPORTED_MODULE_41__.to3D)(i.backgroundFillSymbol,{ignoreDrivers:!0});(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e.symbol)&&\"web-style\"!==e.symbol.type&&\"cim\"!==e.symbol.type&&(r=e.symbol.symbolLayers)}const s=(0,_Graphics3DSymbolFactory_js__WEBPACK_IMPORTED_MODULE_48__.make)(t,this.symbolCreationContext,r);return s.load((()=>{const e=s.extentPadding;e>this.extentPadding&&this._set(\"extentPadding\",e),this.notifyChange(\"averageSymbolComplexity\")}),(()=>{})),s}getOrCreateGraphics3DSymbol(e,i){let t=this._symbols.get(e.id);return void 0===t&&(t=e instanceof _symbols_WebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_67__[\"default\"]?new _Graphics3DWebStyleSymbol_js__WEBPACK_IMPORTED_MODULE_49__[\"default\"](e,(e=>this._frameTask.schedule(e)),(e=>this._createGraphics3DSymbol(e,i))):this._createGraphics3DSymbol(e,i),this._symbols.set(e.id,t)),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(t)&&++t.referenced,t}trackGraphicState(e){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(this._graphicStateTracking)&&(this._graphicStateTracking=new _GraphicStateTracking_js__WEBPACK_IMPORTED_MODULE_50__.GraphicStateTracking(this)),this._graphicStateTracking.add(e)}_addGraphics3DGraphic(e){this._usedMemory+=e.usedMemory,this.graphics3DGraphics.set(e.graphic.uid,e),this._numberOfGraphics++,e.isElevationSource&&(this._numberOfGraphicsProvidingElevation++,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_removeGraphics3DGraphic(e,i,t=!1){this._usedMemory-=i,this.graphics3DGraphics.delete(e),this._numberOfGraphics--,t&&(this._numberOfGraphicsProvidingElevation--,this.updateStageLayerElevationProvider()),this._updateLayerVisibility()}_createGraphics3DGraphic(e,i){const t=i.graphic;if(this._graphicsWithoutSymbol.delete(t.uid),!this._symbols.has(e.symbol.id))return this.add([t]),null;if(this.graphics3DGraphics.has(t.uid))return null;const r=e.createGraphics3DGraphic(i);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(r))return null;this._addGraphics3DGraphic(r);const s=e.symbol.id;this._graphicsBySymbol.has(s)||this._graphicsBySymbol.set(s,new Map),this._graphicsBySymbol.get(s).set(t.uid,r);if(r.isDraped&&this._graphicsDrapedUids.add(t.uid),r.centroid=null,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(t.geometry)&&\"point\"!==t.geometry.type&&(r.centroid=(0,_graphicUtils_js__WEBPACK_IMPORTED_MODULE_51__.computeCentroid)(t.geometry,this._viewSpatialReference)),this._updateUserVisibility(r),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._scaleVisibility)&&this._scaleVisibility.updateVisibility(r),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._filterVisibility)){const{defaultVisibility:e}=this._filterVisibility;r.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityFlag.FILTER,e,_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityGroup.GRAPHIC),e||this._filterVisibility.reapply()}this._deconflictor?.addGraphic(r),this._labeler?.addGraphic(r),this._objectStates?.addGraphic(r),this._deconflictor&&this.owner.view.deconflictor.setInitialIconVisibilityFlag(this,r),r.initialize(this.stage,this.stageLayer,this.owner),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._graphicStateTracking)&&this._graphicStateTracking.addGraphic(r);const a=this._whenGraphics3DGraphicRequests[t.uid];return a&&(delete this._whenGraphics3DGraphicRequests[t.uid],a.resolve(r)),r}_abortRendererChange(){this._rendererChangeAbortController&&(this._rendererChangeAbortController.abort(),this._rendererChangeAbortController=null)}async rendererChange(e){if(this._abortRendererChange(),e!==this.currentRenderer)if(this._validateRenderer(e),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e)&&this._currentRendererChange(null,!1),(0,_renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_38__.isSupportedRenderer3D)(e))if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e)&&e.arcadeRequired){const i=new AbortController;this._rendererChangeAbortController=i;const{arcadeUtils:t}=await this._ensureArcade();(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.throwIfAborted)(i);const r=t.hasGeometryOperations(e);r&&(await t.enableGeometryOperations(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_21__.throwIfAborted)(i)),this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC?await this._frameTask.schedule((()=>this._currentRendererChange(e,r)),i.signal):this._currentRendererChange(e,r),this._rendererChangeAbortController=null}else if(this.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_60__.UpdatePolicy.ASYNC){const i=new AbortController;this._rendererChangeAbortController=i,await this._frameTask.schedule((()=>this._currentRendererChange(e,!1)),i.signal),this._rendererChangeAbortController=null}else this._currentRendererChange(e,!1);else this._currentRendererChange(e,!1)}async _ensureArcade(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(this._arcadeOnDemand)?(this._arcadeOnDemand=await (0,_support_arcadeOnDemand_js__WEBPACK_IMPORTED_MODULE_39__.loadArcade)(),this._arcadeOnDemand):this._arcadeOnDemand}_currentRendererChange(e,i){this.currentRenderer=e,this.rendererHasGeometryOperations=i,this.symbolCreationContext.arcade=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.unwrap)(this._arcadeOnDemand);const t=this.symbolCreationContext.renderer;if(e===t)return;if(this._symbolConversionCache.clear(),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e))return this.symbolCreationContext.renderer=null,void this.recreateAllGraphicsAndSymbols();const r=(0,_core_accessorSupport_diffUtils_js__WEBPACK_IMPORTED_MODULE_28__.diff)(t,e);this._updateUnchangedSymbolMappings(r,e,t),this.symbolCreationContext.renderer=e,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(r)||(\"complete\"===r.type?this.recreateAllGraphicsAndSymbols():\"partial\"===r.type&&(this._applyRendererDiff(r,e,t)?this._volatileGraphicsUpdated():this.recreateAllGraphicsAndSymbols()),this.notifyChange(\"averageSymbolComplexity\"))}_diffHasSymbolChange(e){for(const i in e.diff)switch(i){case\"visualVariables\":case\"defaultSymbol\":case\"uniqueValueInfos\":break;case\"uniqueValueGroups\":case\"authoringInfo\":case\"fieldDelimiter\":delete e.diff[i];break;default:return!0}return!1}_applySymbolSetDiff(e,i,t){e=e||[],i=i||[];const r=[];for(const s of i){const i=this._graphicsBySymbol.get(s.id);i&&i.forEach(((a,n)=>{const o=a.graphic,l=this.layer instanceof _layers_Layer_js__WEBPACK_IMPORTED_MODULE_35__[\"default\"]?this.layer:null,h=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.unwrap)(this._arcadeOnDemand);if(s===t.defaultSymbol&&t.getSymbol((0,_layers_graphics_hydratedFeatures_js__WEBPACK_IMPORTED_MODULE_37__.hydrateGraphic)(o,l),{arcade:h})===t.defaultSymbol)return;const d=a.usedMemory;e.length||t.defaultSymbol?r.push(o):this._graphicsWithoutSymbol.set(n,o);const p=this.graphics3DGraphics.get(n);this._conditionalRemove(p,n),a.destroy(),i.delete(n),this._removeGraphics3DGraphic(n,d),this._updateLayerVisibility()})),this._whenSymbolRemoved.forAll((e=>e(s.id)))}(e.length||r.length)&&(this._graphicsWithoutSymbol.forEach((e=>r.push(e))),this._graphicsWithoutSymbol.clear(),this.add(r)),this._cleanupSymbols(),this._labeler&&this.owner.view.labeler.setDirty(),this.owner.view.deconflictor.setDirty()}_applyUniqueValueRendererDiff(e,i,t){const r=e.diff.defaultSymbol,s=e.diff.uniqueValueInfos;if(r||s){const a=s?s.added.map((e=>e.symbol)).filter(_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome):[],n=s?s.removed.map((e=>e.symbol)).filter(_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome):[];if(s)for(let e=0;e<s.changed.length;e++)a.push(s.changed[e].newValue.symbol),n.push(s.changed[e].oldValue.symbol);return r?(t.defaultSymbol&&n.push(t.defaultSymbol),i.defaultSymbol&&a.push(i.defaultSymbol)):t.defaultSymbol&&a.length&&n.push(i.defaultSymbol),this._applySymbolSetDiff(a,n,i),delete e.diff.defaultSymbol,delete e.diff.uniqueValueInfos,!0}return!1}_calculateUnchangedSymbolMapping(e,i,t){if(\"unique-value\"!==i?.type||\"unique-value\"!==t?.type||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e)&&\"partial\"!==e.type)return[];const r=e=>(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e)?e.id:null,s=e&&e.diff,a=s&&s.defaultSymbol,n=s&&s.uniqueValueInfos;let o;if(n)o=n.unchanged.map((e=>({oldId:r(e.oldValue.symbol),newId:r(e.newValue.symbol)})));else{o=[];for(const e of t.uniqueValueInfos??[]){const t=r(e.symbol),s=i.uniqueValueInfos?.find((i=>i.value===e.value));s&&t!==r(s.symbol)&&o.push({oldId:t,newId:r(s.symbol)})}}return!a&&t.defaultSymbol&&o.push({oldId:r(t.defaultSymbol),newId:r(i.defaultSymbol)}),o}_updateSymbolMapping(e,i){const t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(i)&&i?\"string\"==typeof i?i:i.id:null;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(e)||e===t)return;const r=this._graphicsBySymbol.get(e);this._graphicsBySymbol.delete(e),void 0!==r&&this._graphicsBySymbol.set(t,r);const s=this._symbols.get(e);if(void 0!==s&&(this._symbols.delete(e),this._symbols.set(t,s),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(s))){const e=\"string\"==typeof i?null:i;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(e)?s.symbol=e:s.symbol.id=t}}_updateUnchangedSymbolMappings(e,i,t){const r=this._calculateUnchangedSymbolMapping(e,i,t);for(const{oldId:s,newId:a}of r)this._updateSymbolMapping(s,a)}_applyRendererDiff(e,t,r){if(this._diffHasSymbolChange(e))return!1;if(t instanceof _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]&&r instanceof _renderers_UniqueValueRenderer_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]&&this._applyUniqueValueRendererDiff(e,t,r)&&0===Object.keys(e.diff).length)return!0;for(const[i]of this._graphicsBySymbol){const r=this._symbols.get(i);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(r))switch(r.applyRendererDiff(e,t)){case _interfaces_js__WEBPACK_IMPORTED_MODULE_52__.ApplyRendererDiffResult.Recreate_Symbol:this._recreateSymbol(i);break;case _interfaces_js__WEBPACK_IMPORTED_MODULE_52__.ApplyRendererDiffResult.Recreate_Graphics:this._recreateGraphicsForSymbol(i);case _interfaces_js__WEBPACK_IMPORTED_MODULE_52__.ApplyRendererDiffResult.Fast_Update:}}return!0}opacityChange(){this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"opacity\",i))),this._updateStageLayerVisibility()}_slicePlaneEnabledChange(e){e!==this.symbolCreationContext.slicePlaneEnabled&&(this.symbolCreationContext.slicePlaneEnabled=e,this.stageLayer.sliceable=e,this.forEachGraphics3DSymbol(((e,i)=>e.globalPropertyChanged(\"slicePlaneEnabled\",i))),this._deconflictor&&this._deconflictor.slicePlaneEnabledChange(),this._labeler&&this._labeler.slicePlaneEnabledChange())}_physicalBasedRenderingChange(e){this.symbolCreationContext.physicalBasedRenderingEnabled=e,this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"physicalBasedRenderingEnabled\",i)||this._recreateSymbol(t)}))}_skipHighSymbolLoDsChange(e){this.symbolCreationContext.skipHighSymbolLods=e,this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"skipHighSymbolLods\",i)||this._recreateSymbol(t)}))}_pixelRatioChange(){this.forEachGraphics3DSymbol(((e,i,t)=>{e.globalPropertyChanged(\"pixelRatio\",i)||this._recreateSymbol(t)}))}_signalUpdatingDuringAsyncLoadedGraphicsChange(){this._updatingPendingLoadedGraphicsChange&&this._updatingPendingLoadedGraphicsChange.remove(),this._updatingPendingLoadedGraphicsChange=(0,_core_scheduling_js__WEBPACK_IMPORTED_MODULE_23__.schedule)((()=>{this._updatingPendingLoadedGraphicsChange=null}))}setClippingExtent(e,i){const t=this.symbolCreationContext.clippingExtent,r=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_33__.create)();return (0,_support_extentUtils_js__WEBPACK_IMPORTED_MODULE_57__.toBoundingRect)(e,r,i)?this.symbolCreationContext.clippingExtent=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_32__.fromRect)((0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_32__.create)(),r):this.symbolCreationContext.clippingExtent=null,!(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_32__.equals)(this.symbolCreationContext.clippingExtent,t)}modifyGraphics3DGraphicVisibilities(e){let i=!1;this.graphics3DGraphics.forEach((t=>{e(t)&&(i=!0)})),i&&(this.owner.view.labeler?.setDirty(),this.owner.view.deconflictor.setDirty())}forEachGraphics3DSymbol(e){for(const[i,t]of this._symbols){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(t))return;e(t,this._graphicsBySymbol.get(i)||He,i)}}updateAllGraphicsVisibility(){(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._filterVisibility)&&this._filterVisibility.reapply(),this.modifyGraphics3DGraphicVisibilities((e=>{const i=this._updateUserVisibility(e),t=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isSome)(this._scaleVisibility)&&this._scaleVisibility.updateVisibility(e);return i||t}))}_hideAllGraphics(){this.modifyGraphics3DGraphicVisibilities((e=>e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityFlag.USER_SETTING,!1,_enums_js__WEBPACK_IMPORTED_MODULE_43__.VisibilityGroup.GRAPHIC)))}_validateRenderer(e){const i=(0,_renderers_support_rendererConversion_js__WEBPACK_IMPORTED_MODULE_38__.validateTo3D)(e,{geometryType:this.layer?.geometryType});if(i){const e=`Renderer for layer '${this.layer.title?`${this.layer.title}, `:\"\"}, id:${this.layer.id}' is not supported in a SceneView`;Te.warn(e,i.message)}}_volatileGraphicsUpdated(){this._labeler?.reset(),this.stageLayer.shaderTransformationChanged(),this.notifyChange(\"updating\")}_cleanupSymbols(){if(this._graphicsWaitingForSymbol.size>0||this._suspendSymbolCleanup)return;let e=!1;this._symbols.forEach(((i,t)=>{if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.isNone)(i)||i.referenced>0)return;const r=this._graphicsBySymbol.get(t);r&&0!==r.size||(this._graphicsBySymbol.delete(t),this._symbols.delete(t),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_19__.destroyMaybe)(i),e=!0)})),e&&(this._recomputeExtentPadding(),this.notifyChange(\"averageSymbolComplexity\"))}get test(){return{snapshotInternals:()=>({graphics:[...this.graphics3DGraphics.keys()].sort(),symbols:[...this._symbols.keys()].sort(),graphicsBySymbol:[...this._graphicsBySymbol.keys()].sort().map((e=>({symbolId:e,graphics:[...this._graphicsBySymbol.get(e).keys()].sort()}))),graphicsWithoutSymbol:[...this._graphicsWithoutSymbol.keys()].sort(),graphicsDrapedUids:[...this._graphicsDrapedUids].sort(),pendingUpdates:this._pendingUpdates}),symbols:this._symbols,filterVisibility:this._filterVisibility,numPending:this._pendingUpdates.size,forceUpdatePolicy:e=>{this._forcedUpdatePolicy=e}}}get performanceInfo(){return{visible:this.graphics3DGraphics.size,missing:this._graphicsWithoutSymbol.size,pending:this._pendingUpdates.size}}};var ze;ke.tmpVec=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_30__.c)(),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0})],ke.prototype,\"computedExtent\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"currentRenderer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"rendererHasGeometryOperations\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_frameTask\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0})],ke.prototype,\"_viewSpatialReference\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_rendererChangeAbortController\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_elevationInfoChangeAbortController\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_initializeAbortController\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_elevationAlignment\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_scaleVisibility\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_filterVisibility\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_initializePromise\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_spatialIndex\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0})],ke.prototype,\"extentPadding\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_updatingPendingLoadedGraphicsChange\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_featureStore\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_deconflictor\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_labeler\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_objectStates\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_loadingSymbols\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"preferredUpdatePolicy\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_forcedUpdatePolicy\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0})],ke.prototype,\"effectiveUpdatePolicy\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"elevationFeatureExpressionEnabled\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"owner\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"layer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"graphicSymbolSupported\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"getRenderingInfoWithoutRenderer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"componentFactories\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"setUidToIdOnAdd\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"featureStore\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"initializePromise\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"scaleVisibility\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"elevationAlignment\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"objectStates\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"filterVisibility\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0})],ke.prototype,\"updating\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0})],ke.prototype,\"running\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0})],ke.prototype,\"suspendedOrOutsideOfView\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0,dependsOn:[]})],ke.prototype,\"updatingRemaining\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0,dependsOn:[\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfPrimitives\",\"owner.view.qualitySettings.graphics3D.maxTotalNumberOfFeatures\",\"averageSymbolComplexity\"]})],ke.prototype,\"displayFeatureLimit\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({readOnly:!0,dependsOn:[]})],ke.prototype,\"averageSymbolComplexity\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"hasZ\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)({constructOnly:!0})],ke.prototype,\"hasM\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_24__.property)()],ke.prototype,\"_objectIdField\",null),ke=Le=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_27__.subclass)(Fe)],ke),function(e){e[e.NEW=0]=\"NEW\",e[e.LOADING=1]=\"LOADING\",e[e.READY=2]=\"READY\",e[e.REJECTED=3]=\"REJECTED\"}(ze||(ze={}));class We{constructor(){this.add=null,this.renderingInfo=null,this.state=ze.NEW,this.abortController=null,this.remove=null}clear(){this.add=null,this.renderingInfo=null,this.state=ze.NEW,this.abortController=null,this.remove=null}}const Me=10,Ne=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_30__.c)(),Be=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_30__.c)(),He=new Map;\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCore.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ g)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ \"./node_modules/@arcgis/core/core/Evented.js\");\n/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Handles.js */ \"./node_modules/@arcgis/core/core/Handles.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ \"./node_modules/@arcgis/core/core/reactiveUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _ExtentSet_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ExtentSet.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/ExtentSet.js\");\n/* harmony import */ var _webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../webgl-engine/lib/UpdatePolicy.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/UpdatePolicy.js\");\n/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../support/Scheduler.js */ \"./node_modules/@arcgis/core/views/support/Scheduler.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nlet l=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{constructor(e){super(e),this._dirtyExtents=new _ExtentSet_js__WEBPACK_IMPORTED_MODULE_10__.ExtentSet,this._globalDirty=!1,this._averageExtentUpdateSize=0,this._dirtyGraphicsSet=new Set,this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],this._updateElevation=!1,this.graphicsCoreOwner=null,this.graphicsCore=null,this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]}initialize(){const e=this.elevationProvider,t=this.graphicsCoreOwner.view.resourceController.scheduler;this._handles.add([e.on(\"elevation-change\",(e=>this._elevationChanged(e))),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_5__.watch)((()=>this.graphicsCoreOwner.suspended),(()=>this._suspendedChange())),t.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_12__.TaskPriority.ELEVATION_ALIGNMENT,this)])}destroy(){this._dirtyGraphicsSet.clear(),this._handles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.destroyMaybe)(this._handles),this.graphicsCoreOwner=null,this.graphicsCore=null,this.queryGraphicUIDsInExtent=null,this.elevationProvider=null}clear(){this._dirtyGraphicsSet.clear(),this.notifyChange(\"updating\")}_suspendedChange(){!0===this.graphicsCoreOwner.suspended?this._updateElevation=!1:!1===this.graphicsCoreOwner.suspended&&this._updateElevation&&(this._globalDirty=!0,this.notifyChange(\"updating\"))}elevationInfoChange(){this._globalDirty=!0,this.notifyChange(\"updating\")}get updating(){return this.running}get running(){return this._dirtyGraphicsSet.size>0||this._dirtyExtents&&!this._dirtyExtents.empty||this._globalDirty}get updatingRemaining(){return this._dirtyGraphicsSet.size+this._dirtyExtents.size*this._averageExtentUpdateSize}runTask(e){for(this._globalDirty&&(this._markAllGraphicsElevationDirty(),this._globalDirty=!1,e.madeProgress()),e.run((()=>this._dirtyExtents.merge(e)));this.running&&!e.done;)this._updateDirtyGraphics(e),this._updateDirtyExtents(e);this.notifyChange(\"updating\")}_updateDirtyGraphics(e){const t=this.graphicsCoreOwner.view.renderCoordsHelper,i=this.graphicsCore.effectiveUpdatePolicy===_webgl_engine_lib_UpdatePolicy_js__WEBPACK_IMPORTED_MODULE_11__.UpdatePolicy.ASYNC;for(const r of this._dirtyGraphicsSet.keys()){const s=this.graphicsCore.getGraphics3DGraphicById(r);if(this._dirtyGraphicsSet.delete(r),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(s)&&(s.alignWithElevation(this.elevationProvider,t,i),this.graphicsCoreOwner.view.deconflictor.setDirty(),e.madeProgress()),e.done)return}}_updateDirtyExtents(e){for(;!this._dirtyExtents.empty&&!e.done;){const t=this._dirtyExtents.pop(),i=this.elevationProvider.spatialReference;this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i});const r=this._dirtyGraphicsSet.size;this.queryGraphicUIDsInExtent(t,i,(e=>{const t=this.graphicsCore.getGraphics3DGraphicById(e);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(t)&&t.needsElevationUpdates()&&this._dirtyGraphicsSet.add(e)})),this._averageExtentUpdateSize=.1*(this._dirtyGraphicsSet.size-r)+.9*this._averageExtentUpdateSize,e.madeProgress()}}_markAllGraphicsElevationDirty(){this._dirtyExtents.clear(),this._dirtyGraphicsSet.clear(),this.graphicsCore.graphics3DGraphics.forEach(((e,t)=>this._dirtyGraphicsSet.add(t)))}_elevationChanged(e){if(\"scene\"===e.context&&(!this.graphicsCore.layer.elevationInfo||\"relative-to-scene\"!==this.graphicsCore.layer.elevationInfo.mode))return;const{extent:t,spatialReference:i}=e;if(this.graphicsCoreOwner.suspended){if(!this._updateElevation){const e=this.graphicsCore.computedExtent;e&&t[2]>e.xmin&&t[0]<e.xmax&&t[3]>e.ymin&&t[1]<e.ymax&&(this._updateElevation=!0)}this.events.emit(\"invalidate-elevation\",{extent:t,spatialReference:i})}else t[0]===-1/0?this._globalDirty=!0:this._dirtyExtents.add(t),this.notifyChange(\"updating\")}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],l.prototype,\"graphicsCoreOwner\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],l.prototype,\"graphicsCore\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],l.prototype,\"queryGraphicUIDsInExtent\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)()],l.prototype,\"elevationProvider\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],l.prototype,\"updating\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_6__.property)({readOnly:!0})],l.prototype,\"updatingRemaining\",null),l=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_9__.subclass)(\"esri.views.3d.layers.graphics.Graphics3DElevationAlignment\")],l);const g=l;\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DElevationAlignment.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graphics3DFeatureStore\": () => (/* binding */ m)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ \"./node_modules/@arcgis/core/core/Evented.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/projection.js */ \"./node_modules/@arcgis/core/geometry/projection.js\");\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\");\n/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ \"./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js\");\n/* harmony import */ var _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedFeature.js */ \"./node_modules/@arcgis/core/layers/graphics/OptimizedFeature.js\");\n/* harmony import */ var _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../layers/graphics/OptimizedGeometry.js */ \"./node_modules/@arcgis/core/layers/graphics/OptimizedGeometry.js\");\n/* harmony import */ var _layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../layers/graphics/data/optimizedFeatureQueryEngineAdapter.js */ \"./node_modules/@arcgis/core/layers/graphics/data/optimizedFeatureQueryEngineAdapter.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst l=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.create)();let m=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{constructor(t){super(t),this.events=new _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],this.hasZ=null,this.hasM=null,this.objectIdField=null,this.featureAdapter={getAttribute:(t,e)=>\"graphic\"in t?t.graphic.attributes[e]:_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getAttribute(t,e),getAttributes:t=>\"graphic\"in t?t.graphic.attributes:_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getAttributes(t),getObjectId:t=>\"graphic\"in t?(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__.getObjectId)(t.graphic,this.objectIdField)??void 0:_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getObjectId(t),getGeometry:t=>\"graphic\"in t?t.getAsOptimizedGeometry(this.hasZ,this.hasM):_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getGeometry(t),getCentroid:(t,e)=>{if(\"graphic\"in t){let r=null;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isSome)(t.centroid)?r=t.centroid:\"point\"===t.graphic.geometry.type&&(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__.projectPoint)(t.graphic.geometry,g,this.viewSpatialReference)&&(r=g);const i=new Array(2+(e.hasZ?1:0)+(e.hasM?1:0));return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isNone)(r)?(i[0]=0,i[1]=0,i[2]=0,i[3]=0):(i[0]=r.x,i[1]=r.y,e.hasZ&&(i[2]=r.hasZ?r.z:0),e.hasM&&(i[e.hasZ?3:2]=r.hasM?r.m:0)),new _layers_graphics_OptimizedGeometry_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]([],i)}return _layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.getCentroid(t,e)},cloneWithGeometry:(t,e)=>\"graphic\"in t?new _layers_graphics_OptimizedFeature_js__WEBPACK_IMPORTED_MODULE_11__.OptimizedFeature(e,this.featureAdapter.getAttributes(t),null,this.featureAdapter.getObjectId(t)):_layers_graphics_data_optimizedFeatureQueryEngineAdapter_js__WEBPACK_IMPORTED_MODULE_13__.optimizedFeatureQueryEngineAdapter.cloneWithGeometry(t,e)}}forEachInBounds(t,e){this.getSpatialIndex().forEachInBounds(t,e)}forEachBounds(t,e){const r=this.getSpatialIndex();for(const s of t){const t=this.featureAdapter.getObjectId(s);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isSome)(r.getBounds(t,l))&&e(l)}}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],m.prototype,\"getSpatialIndex\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],m.prototype,\"forEach\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],m.prototype,\"hasZ\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],m.prototype,\"hasM\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],m.prototype,\"objectIdField\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],m.prototype,\"viewSpatialReference\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],m.prototype,\"featureSpatialReference\",void 0),m=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)(\"esri.views.3d.layers.graphics.Graphics3DFeatureStore\")],m);const g={type:\"point\",x:0,y:0,hasZ:!1,hasM:!1,spatialReference:null};\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureStore.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ m)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Handles.js */ \"./node_modules/@arcgis/core/core/Handles.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/reactiveUtils.js */ \"./node_modules/@arcgis/core/core/reactiveUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/ellipsoidUtils.js */ \"./node_modules/@arcgis/core/geometry/ellipsoidUtils.js\");\n/* harmony import */ var _support_FrustumExtentIntersection_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../support/FrustumExtentIntersection.js */ \"./node_modules/@arcgis/core/views/3d/support/FrustumExtentIntersection.js\");\n/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../support/Scheduler.js */ \"./node_modules/@arcgis/core/views/support/Scheduler.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst d=1.2;let _=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{constructor(e){super(e),this.suspended=!1,this._extent=null,this._extentIntersectionDirty=!0,this._isVisibleBelowSurfaceInternal=!1,this._handles=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],this.graphicsCoreOwner=null,this.updating=!0}initialize(){const{graphicsCoreOwner:e}=this;this._extentIntersection=new _support_FrustumExtentIntersection_js__WEBPACK_IMPORTED_MODULE_10__.FrustumExtentIntersection({renderCoordsHelper:e.view.renderCoordsHelper});const t=e.view,s=t.basemapTerrain,i=t.resourceController.scheduler;this._handles.add([t.on(\"resize\",(()=>this._viewChange())),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>t.state.camera),(()=>this._viewChange()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.sync),i.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_11__.TaskPriority.FRUSTUM_VISIBILITY,this),(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>s.visibleElevationBounds),(()=>this._elevationBoundsChange()))]),\"local\"===t.viewingMode?this._isVisibleBelowSurface=!0:this._handles.add([(0,_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.watch)((()=>[s.baseOpacity,s.wireframe,t.map?.ground?.navigationConstraint?.type]),(()=>this._updateIsVisibleBelowSurface()),_core_reactiveUtils_js__WEBPACK_IMPORTED_MODULE_4__.initial)])}destroy(){this._set(\"graphicsCoreOwner\",null),this._extent=null,this._extentIntersection=null,this._handles=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._handles)}_setDirty(){this.updating||this._set(\"updating\",!0)}setExtent(e){this._extent=e,this._extentIntersectionDirty=!0,this._setDirty()}_viewChange(){this._setDirty()}_elevationBoundsChange(){this._setDirty(),this._extentIntersectionDirty=!0}set _isVisibleBelowSurface(e){this._isVisibleBelowSurfaceInternal=e,this._setDirty(),this._extentIntersectionDirty=!0}_updateIsVisibleBelowSurface(){const e=this.graphicsCoreOwner.view,t=e.basemapTerrain,s=\"local\"===e.viewingMode,i=\"none\"===e.map.ground?.navigationConstraint?.type;this._isVisibleBelowSurface=s||!t.opaque||i}_updateExtentIntersection(){if(!this._extentIntersectionDirty)return;this._extentIntersectionDirty=!1;const e=this.graphicsCoreOwner.view;let t;if(this._isVisibleBelowSurfaceInternal)t=-.3*(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_9__.getReferenceEllipsoid)(e.spatialReference).radius;else{const{min:s,max:i}=e.basemapTerrain.visibleElevationBounds;t=s-Math.max(1,(i-s)*(d-1))}this._extentIntersection.update(this._extent,e.spatialReference,t)}get running(){return this.updating}runTask(e){if(this._set(\"updating\",!1),!this._extent)return this._set(\"suspended\",!1),_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_11__.Task.YIELD;this._updateExtentIntersection();const t=this.graphicsCoreOwner.view.frustum,s=(0,_geometry_ellipsoidUtils_js__WEBPACK_IMPORTED_MODULE_9__.getReferenceEllipsoid)(this.graphicsCoreOwner.view.spatialReference).radius;this._set(\"suspended\",!this._extentIntersection.isVisibleInFrustum(t,s)),e.madeProgress()}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],_.prototype,\"suspended\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({constructOnly:!0})],_.prototype,\"graphicsCoreOwner\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_5__.property)({readOnly:!0})],_.prototype,\"updating\",void 0),_=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)(\"esri.views.3d.layers.graphics.Graphics3DFrustumVisibility\")],_);const m=_;\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFrustumVisibility.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graphics3DObjectStateSet\": () => (/* binding */ e)\n/* harmony export */ });\n/* harmony import */ var _webgl_engine_lib_Object3DStateSet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../webgl-engine/lib/Object3DStateSet.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass e{constructor(e,i){this.stateType=e,this.objectIdField=i,this.objectStateSet=new _webgl_engine_lib_Object3DStateSet_js__WEBPACK_IMPORTED_MODULE_0__.Object3DStateSet,this.ids=new Set,this.paused=!1}hasGraphic(t){if(this.objectIdField){const e=t.graphic.attributes[this.objectIdField];return this.ids.has(e)}return this.ids.has(t.graphic.uid)}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graphics3DObjectStates\": () => (/* binding */ s)\n/* harmony export */ });\n/* harmony import */ var _core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/handleUtils.js */ \"./node_modules/@arcgis/core/core/handleUtils.js\");\n/* harmony import */ var _Graphics3DObjectStateSet_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graphics3DObjectStateSet.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStateSet.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass s{constructor(t){this._graphicsCore=t,this._stateSets=new Array}destroy(){this.reset(),this._stateSets=null}reset(){this._stateSets&&(this._stateSets.forEach((t=>t.objectStateSet.removeAll())),this._stateSets.length=0)}acquireSet(s,a){const i=new _Graphics3DObjectStateSet_js__WEBPACK_IMPORTED_MODULE_1__.Graphics3DObjectStateSet(s,a);this._stateSets.push(i);const h=(0,_core_handleUtils_js__WEBPACK_IMPORTED_MODULE_0__.makeHandle)((()=>this.releaseSet(i)));return{set:i,handle:h}}releaseSet(t){t.objectStateSet.removeAll();const e=this._stateSets?this._stateSets.indexOf(t):-1;-1!==e&&this._stateSets.splice(e,1)}_addObjectStateSet(t,e){t.addObjectStateSet(e.stateType,e.objectStateSet)}_removeObjectStateSet(t,e){t.removeObjectState(e.objectStateSet)}setUid(t,e){t.ids.add(e);const s=this._graphicsCore.graphics3DGraphics.get(e);s&&this._addObjectStateSet(s,t)}setUids(t,e){e.forEach((e=>this.setUid(t,e)))}setObjectIds(t,e){e.forEach((e=>t.ids.add(e))),this._initializeSet(t)}addGraphic(t){this._stateSets.forEach((e=>{!e.paused&&e.hasGraphic(t)&&this._addObjectStateSet(t,e)}))}removeGraphic(t){this._stateSets.forEach((e=>{e.hasGraphic(t)&&this._removeObjectStateSet(t,e)}))}allGraphicsDeleted(){this._stateSets&&this._stateSets.forEach((t=>t.objectStateSet.removeAll()))}_initializeSet(t){const e=this._graphicsCore.graphics3DGraphics;t.objectIdField?e.forEach((e=>{e&&t.hasGraphic(e)&&this._addObjectStateSet(e,t)})):t.ids.forEach((s=>{const a=e.get(s);a&&this._addObjectStateSet(a,t)}))}get test(){return{states:this._stateSets}}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DObjectStates.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ i)\n/* harmony export */ });\n/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/asyncUtils.js */ \"./node_modules/@arcgis/core/core/asyncUtils.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/promiseUtils.js */ \"./node_modules/@arcgis/core/core/promiseUtils.js\");\n/* harmony import */ var _Graphics3DCalloutSymbolLayerFactory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Graphics3DCalloutSymbolLayerFactory.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DCalloutSymbolLayerFactory.js\");\n/* harmony import */ var _Graphics3DLineCalloutSymbolLayer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Graphics3DLineCalloutSymbolLayer.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DLineCalloutSymbolLayer.js\");\n/* harmony import */ var _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Graphics3DSymbol.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass i extends _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]{constructor(r,a,o){super(r,a,o),this._calloutSymbolLayer=null,this.symbol.hasVisibleCallout()&&(this._calloutSymbolLayer=(0,_Graphics3DCalloutSymbolLayerFactory_js__WEBPACK_IMPORTED_MODULE_3__.make)(this.symbol,a))}async doLoad(a){const o=this._calloutSymbolLayer?(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.result)(this._calloutSymbolLayer.load()):null;try{await super.doLoad(a),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(a)}catch(l){throw this._calloutSymbolLayer?.abortLoad(),l}o&&await o}destroy(){super.destroy(),this._calloutSymbolLayer=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.destroyMaybe)(this._calloutSymbolLayer)}createGraphics3DGraphic(r,a){const t=super.createGraphics3DGraphic(r,a);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(this._calloutSymbolLayer)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(t)){const a=this._createCalloutGraphic(r);(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isSome)(a)&&t.addAuxiliaryGraphic(a)}return t}globalPropertyChanged(r,a){return!!super.globalPropertyChanged(r,a)&&(!this._calloutSymbolLayer||this._calloutSymbolLayer.globalPropertyChanged(r,a,(r=>this._getCalloutGraphicLayer(r))))}updateGeometry(r,a){const o=super.updateGeometry(r,a);if(o&&this._calloutSymbolLayer){const o=this._getCalloutGraphicLayer(r);if(o)return this._calloutSymbolLayer.updateGeometry(o,a)}return o}_createCalloutGraphic(r){const a=r.renderingInfo;return r.renderingInfo=new _Graphics3DLineCalloutSymbolLayer_js__WEBPACK_IMPORTED_MODULE_4__.LineCalloutSymbolLayerRenderingInfo(a.renderer,a.symbol),this._calloutSymbolLayer.createGraphics3DGraphic(r)}_getCalloutGraphicLayer(r){for(const a of r._auxiliaryLayers)if(a.graphics3DSymbolLayer===this._calloutSymbolLayer)return a}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/HandleOwner.js */ \"./node_modules/@arcgis/core/core/HandleOwner.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../geometry/projection.js */ \"./node_modules/@arcgis/core/geometry/projection.js\");\n/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\");\n/* harmony import */ var _enums_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./enums.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/enums.js\");\n/* harmony import */ var _support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../support/layerViewUtils.js */ \"./node_modules/@arcgis/core/views/support/layerViewUtils.js\");\n/* harmony import */ var _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../support/Scheduler.js */ \"./node_modules/@arcgis/core/views/support/Scheduler.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst u=_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLogger(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\");let g=class extends _core_HandleOwner_js__WEBPACK_IMPORTED_MODULE_1__.HandleOwner{constructor(e){super(e),this._scaleRangeActive=!1,this._layerScaleRangeVisibilityQuery=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null,this.layerScaleEnabled=!0,this.suspended=!1,this._dirty=!0}initialize(){this.updateScaleRangeActive();const e=this.graphicsCoreOwner.view.resourceController.scheduler;this.handles.add(e.registerTask(_support_Scheduler_js__WEBPACK_IMPORTED_MODULE_12__.TaskPriority.SCALE_VISIBILITY,this)),this.updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this.layerMinMaxScaleChangeHandler()))}destroy(){this.updatingHandles.removeAll(),this.handles.removeAll(),this._dirty=!1,this._extent=null,this.graphicsCoreOwner=null,this.layer=null,this.queryGraphicUIDsInExtent=null,this.graphicsCore=null,this.basemapTerrain=null}get updating(){return this._dirty||this.updatingHandles.updating}_setDirty(){this._dirty=!0}setExtent(e){const i=this.graphicsCoreOwner.view.spatialReference,t=this.graphicsCoreOwner.view.basemapTerrain.spatialReference;if(i===t)this._extent=e??null;else{const r=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.create)();(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__.projectBoundingRect)(e,i,r,t)?this._extent=r:this._extent=null}this._setDirty()}scaleRangeActive(){return this._scaleRangeActive}updateScaleRangeActive(){const e=this.layer,i=e.effectiveScaleRange;let t=this.layerScaleEnabled&&null!=i&&b(i.minScale,i.maxScale);e.labelingInfo&&!t&&(t=e.labelingInfo.some((e=>e&&b(e.minScale??0,e.maxScale??0))));const r=this._scaleRangeActive!==t;return this._scaleRangeActive=t,t&&!this.handles.has(m)&&this.basemapTerrain?(this.handles.add(this.basemapTerrain.on(\"scale-change\",(e=>this._scaleUpdateHandler(e))),m),this.layerScaleEnabled&&this.handles.add(this.basemapTerrain.on(\"tiles-visibility-changed\",(()=>this._setDirty())),m)):!t&&this.handles.has(m)&&this.handles.remove(m),r}get running(){return!(!this.graphicsCoreOwner.view.basemapTerrain||!this.updating)}runTask(e){const i=this.graphicsCoreOwner.view.basemapTerrain;if(this._extent&&i&&i.ready&&this._scaleRangeActive&&this.layerScaleEnabled){if(this._layerScaleRangeVisibilityQuery)return _support_Scheduler_js__WEBPACK_IMPORTED_MODULE_12__.Task.YIELD;{this._layerScaleRangeVisibilityQuery=!0;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange;i.queryVisibleScaleRange(this._extent,e,t,(e=>this._finishUpdate(e)))}}else this._finishUpdate(!0);e.madeProgress()}_finishUpdate(e){this._layerScaleRangeVisibilityQuery=!1,this._set(\"suspended\",!e),this._dirty=!1}_visibleAtLayerScale(e){const i=this.layer.effectiveScaleRange;return!this.layerScaleEnabled||(0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__.scaleBoundsPredicate)(e,i.minScale||0,i.maxScale||0)}_visibleAtLabelScale(e,i){return (0,_support_layerViewUtils_js__WEBPACK_IMPORTED_MODULE_11__.scaleBoundsPredicate)(e,i.minScale||0,i.maxScale||0)}_graphicScale(e){let i;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isSome)(e.centroid)?i=e.centroid:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isSome)(e.graphic.geometry)&&\"point\"===e.graphic.geometry.type&&(i=e.graphic.geometry),i){return this.graphicsCoreOwner.view.basemapTerrain?this.graphicsCoreOwner.view.basemapTerrain.getScale(i):1}return null}_graphicVisible(e){if(!this.layerScaleEnabled)return!0;const i=this._graphicScale(e);return this._visibleAtLayerScale(i)}updateVisibility(e){if(this._scaleRangeActive){const i=this._graphicVisible(e);return e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE,i,_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityGroup.GRAPHIC)}return!1}updateGraphicLabelScaleVisibility(e){if(!this._scaleRangeActive)return!1;if(!e.labelLayers||0===e.labelLayers.length)return!1;const i=this._graphicScale(e),t=this._updateLabelScaleVisibility(e,i);return t&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty()),t}_updateLabelScaleVisibility(e,i){if(!e.labelLayers||0===e.labelLayers.length)return!1;const t=e.labelLayers[0]._labelClass;if(t&&null!=t.minScale&&null!=t.maxScale){const r=this._visibleAtLabelScale(i,t);if(e.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE,r,_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityGroup.LABEL))return!0}return!1}_scaleUpdateHandler(e){if(this._setDirty(),!this.graphicsCore.visible)return;const i=e.extent,t=e.scale,s=this._visibleAtLayerScale(t);let l=!1;const c=this.graphicsCoreOwner.view.spatialReference,p=e.spatialReference;if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isNone)(p))return void u.error(\"scaleUpdate: Internal error, no SpatialReference given for tiles\");const y=!p.equals(c);if(y){if(!(0,_geometry_projection_js__WEBPACK_IMPORTED_MODULE_8__.projectBoundingRect)(i,p,S,c))return void u.error(\"scaleUpdate: Internal error, cannot project AABR from \"+p+\" to wkid \"+c)}const d=y?S:i;this.queryGraphicUIDsInExtent(d,c,(e=>{const n=this.graphicsCore.getGraphics3DGraphicById(e);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isNone)(n))return;const c=n.centroid;(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isSome)(c)&&(i[0]>c.x||i[1]>c.y||i[2]<c.x||i[3]<c.y)||(n.setVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE,s,_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityGroup.GRAPHIC)&&(l=!0),this._updateLabelScaleVisibility(n,t)&&(l=!0))})),l&&(this.graphicsCoreOwner.view.deconflictor.setDirty(),this.graphicsCoreOwner.view.labeler.setDirty())}layerMinMaxScaleChangeHandler(){this.updateScaleRangeActive()&&!this._scaleRangeActive?this.graphicsCore.modifyGraphics3DGraphicVisibilities((e=>e.clearVisibilityFlag(_enums_js__WEBPACK_IMPORTED_MODULE_10__.VisibilityFlag.SCALE_RANGE))):this._scaleRangeActive&&this.graphicsCore.updateAllGraphicsVisibility(),this._setDirty()}};function b(e,i){return e>0||i>0}(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,\"graphicsCoreOwner\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,\"layer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,\"queryGraphicUIDsInExtent\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,\"graphicsCore\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,\"basemapTerrain\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],g.prototype,\"layerScaleEnabled\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],g.prototype,\"suspended\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],g.prototype,\"updating\",null),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],g.prototype,\"_dirty\",void 0),g=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)(\"esri.views.3d.layers.graphics.Graphics3DScaleVisibility\")],g);const m=\"terrain-events\",S=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_9__.create)(),_=g;\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DScaleVisibility.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graphics3DSymbolCreationContext\": () => (/* binding */ e),\n/* harmony export */   \"Graphics3DSymbolLayerCreationContext\": () => (/* binding */ s)\n/* harmony export */ });\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass e{constructor(e,s){this.scheduler=e,this.schedule=s,this.sharedResources=null,this.streamDataRequester=null,this.elevationProvider=null,this.renderer=null,this.stage=null,this.clippingExtent=null,this.renderCoordsHelper=null,this.overlaySR=null,this.layer=null,this.drapeSourceRenderer=null,this.graphicsCoreOwner=null,this.localOriginFactory=null,this.featureExpressionInfoContext=null,this.screenSizePerspectiveEnabled=!0,this.slicePlaneEnabled=!1,this.physicalBasedRenderingEnabled=!1,this.skipHighSymbolLods=!1,this.isAsync=!1}}class s{}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolCreationContext.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"make\": () => (/* binding */ t)\n/* harmony export */ });\n/* harmony import */ var _Graphics3DPointSymbol_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Graphics3DPointSymbol.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DPointSymbol.js\");\n/* harmony import */ var _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Graphics3DSymbol.js */ \"./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbol.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nfunction t(t,i,n){return\"point-3d\"===t.type?new _Graphics3DPointSymbol_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](t,i,n):new _Graphics3DSymbol_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](t,i,n)}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DSymbolFactory.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SpatialIndex2D\": () => (/* binding */ c)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/libs/rbush/PooledRBush.js */ \"./node_modules/@arcgis/core/core/libs/rbush/PooledRBush.js\");\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\");\n/* harmony import */ var _layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../layers/graphics/dehydratedFeatures.js */ \"./node_modules/@arcgis/core/layers/graphics/dehydratedFeatures.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nlet c=class extends _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]{constructor(t){super(t),this._index=new _core_libs_rbush_PooledRBush_js__WEBPACK_IMPORTED_MODULE_8__.PooledRBush(9,(0,_core_has_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"esri-csp-restrictions\")?t=>({minX:t.extent[0],minY:t.extent[1],maxX:t.extent[2],maxY:t.extent[3]}):[\".extent[0]\",\".extent[1]\",\".extent[2]\",\".extent[3]\"]),this._missing=new Set,this._boundsByFeature=new Map,this.spatialReference=null,this.hasZ=null,this.hasM=null,this.objectIdField=null,this.updating=!1}setup(t){this._addMany(t)}destroy(){this._missing.clear(),this._index=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.destroyMaybe)(this._index),this._boundsByFeature.clear(),this._boundsByFeature=null}update(){this._missing.size>0&&(this._addMany(Array.from(this._missing.values())),this.updating=!1,this._missing.clear())}get updatingRemaining(){return this._missing.size}queryGraphicUIDsInExtent(t,e,s){!(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isNone)(e)&&e.equals(this.spatialReference)&&(u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>s(t.graphic.uid))))}add(t){this._missing.add(t),this.updating=!0}remove(t){if(this._missing.delete(t))return void(this.updating=this._missing.size>0);this._index.remove(t);const e=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__.getObjectId)(t.graphic,this._get(\"objectIdField\"));null!=e&&this._boundsByFeature.delete(e)}_addMany(t){if(0===t.length)return;const e=this._get(\"objectIdField\");for(const s of t){s.computeExtent(this.spatialReference);const t=(0,_layers_graphics_dehydratedFeatures_js__WEBPACK_IMPORTED_MODULE_10__.getObjectId)(s.graphic,e);null!=t&&this._boundsByFeature.set(t,s.extent)}this._index.load(t)}clear(){this._index.clear(),this._missing.clear(),this._boundsByFeature.clear(),this.updating=!1}forEachInBounds(t,e){u.minX=t[0],u.minY=t[1],u.maxX=t[2],u.maxY=t[3],this.update(),this._index.search(u,(t=>{e(t)}))}getBounds(t,e){this.update();const s=this._boundsByFeature.get(t);return s?(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_9__.fromRect)(e,s):null}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],c.prototype,\"spatialReference\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],c.prototype,\"hasZ\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],c.prototype,\"hasM\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({constructOnly:!0})],c.prototype,\"objectIdField\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)()],c.prototype,\"updating\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_4__.property)({readOnly:!0})],c.prototype,\"updatingRemaining\",null),c=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.subclass)(\"esri.views.3d.layers.graphics.SpatialIndex2D\")],c);const u={minX:0,minY:0,maxX:0,maxY:0};\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/graphics/SpatialIndex2D.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"StageLayerElevationProvider\": () => (/* binding */ b)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/Accessor.js */ \"./node_modules/@arcgis/core/core/Accessor.js\");\n/* harmony import */ var _core_Evented_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/Evented.js */ \"./node_modules/@arcgis/core/core/Evented.js\");\n/* harmony import */ var _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/Handles.js */ \"./node_modules/@arcgis/core/core/Handles.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_unitUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/unitUtils.js */ \"./node_modules/@arcgis/core/core/unitUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/property.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../chunks/vec3.js */ \"./node_modules/@arcgis/core/chunks/vec3.js\");\n/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../chunks/vec3f64.js */ \"./node_modules/@arcgis/core/chunks/vec3f64.js\");\n/* harmony import */ var _geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingBox.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js\");\n/* harmony import */ var _geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../geometry/support/aaBoundingRect.js */ \"./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js\");\n/* harmony import */ var _symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../symbols/support/unitConversionUtils.js */ \"./node_modules/@arcgis/core/symbols/support/unitConversionUtils.js\");\n/* harmony import */ var _webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../webgl-engine/lib/Intersector.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Intersector.js\");\n/* harmony import */ var _webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../webgl-engine/lib/IntersectorInterfaces.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/IntersectorInterfaces.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst v=1;let b=class extends(_core_Evented_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].EventedMixin(_core_Accessor_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])){get spatialReference(){return this.view?.spatialReference}constructor(e){super(e),this._elevationOffset=0,this._layerHandes=new _core_Handles_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]}initialize(){this._renderCoordsHelper=this.view.renderCoordsHelper,this._intersectLayers=[this.stageLayer],this._intersector=(0,_webgl_engine_lib_Intersector_js__WEBPACK_IMPORTED_MODULE_16__.newIntersector)(this.view.state.viewingMode),this._intersector.options.store=_webgl_engine_lib_IntersectorInterfaces_js__WEBPACK_IMPORTED_MODULE_17__.StoreResults.MIN;const e=this._computeLayerExtent(this.spatialReference,this.stageLayer);this._zmin=e[2],this._zmax=e[5];const t=this.stageLayer.events;this._layerHandes.add([t.on(\"layerObjectAdded\",(e=>this._objectChanged(e.object))),t.on(\"layerObjectRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryAdded\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryRemoved\",(e=>this._objectChanged(e.object))),t.on(\"objectGeometryUpdated\",(e=>this._objectChanged(e.object))),t.on(\"objectTransformation\",(e=>this._objectChanged(e)))])}dispose(){this._layerHandes.destroy()}elevationInfoChanged(){const e=null!=this.layer?this.layer.elevationInfo:null;if(null!=e&&\"on-the-ground\"!==e.mode){const t=(0,_core_unitUtils_js__WEBPACK_IMPORTED_MODULE_6__.getMetersPerVerticalUnitForSR)(this.layer.spatialReference),o=(0,_symbols_support_unitConversionUtils_js__WEBPACK_IMPORTED_MODULE_15__.getMetersPerUnit)(e.unit??\"meters\");this._elevationOffset=(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.unwrapOr)(e.offset,0)*o/t}else this._elevationOffset=0}getElevation(e,t,o,r){if(R[0]=e,R[1]=t,R[2]=o,!this._renderCoordsHelper.toRenderCoords(R,r,R))return _core_Logger_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getLogger(this.declaredClass).error(\"could not project point for elevation alignment\"),null;const n=this._elevationOffset,i=this._zmin+n,a=this._zmax+n;this._renderCoordsHelper.setAltitude(H,a,R),this._renderCoordsHelper.setAltitude(L,i,R);const c=e=>!!e.metadata?.isElevationSource;return this._intersector.reset(H,L,null),this._intersector.intersect(this._intersectLayers,null,v,null,c),this._intersector.results.min.getIntersectionPoint(R)?this._renderCoordsHelper.getAltitude(R):null}_objectChanged(e){const t=this.spatialReference;if(!e.metadata?.isElevationSource||(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.isNone)(t))return;(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__.empty)(x);const o=e.metadata.lastValidElevationBB;o.isEmpty()||this._expandExtent(t,o.min,o.max,x);const{min:r,max:s}=e.boundingVolumeWorldSpace;this._expandExtent(t,r,s,x),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__.toRect)(x,C),this._zmin=Math.min(this._zmin,x[2]),this._zmax=Math.max(this._zmax,x[5]),E.extent=C,E.spatialReference=t,this.emit(\"elevation-change\",E),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__.c)(o.min,r),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_11__.c)(o.max,s)}_computeLayerExtent(e,t){return (0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__.empty)(x),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_5__.isSome)(e)&&t.objects.forAll((t=>this._expandExtent(e,t.boundingVolumeWorldSpace.min,t.boundingVolumeWorldSpace.max,x))),x}_expandExtent(e,t,o,r){for(let s=0;s<8;++s)R[0]=1&s?t[0]:o[0],R[1]=2&s?t[1]:o[1],R[2]=4&s?t[2]:o[2],this._renderCoordsHelper.fromRenderCoords(R,R,e),(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__.expandWithVec3)(r,R);return r}};(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],b.prototype,\"layer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],b.prototype,\"stageLayer\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)({constructOnly:!0})],b.prototype,\"view\",void 0),(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_7__.property)()],b.prototype,\"spatialReference\",null),b=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_10__.subclass)(\"esri.views.3d.layers.support.StageLayerElevationProvider\")],b);const x=(0,_geometry_support_aaBoundingBox_js__WEBPACK_IMPORTED_MODULE_13__.empty)(),C=(0,_geometry_support_aaBoundingRect_js__WEBPACK_IMPORTED_MODULE_14__.empty)(),E={spatialReference:null,extent:C,context:\"scene\"},R=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)(),H=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)(),L=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_12__.c)();\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/layers/support/StageLayerElevationProvider.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Object3DStateSet\": () => (/* binding */ r)\n/* harmony export */ });\n/* harmony import */ var _basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basicInterfaces.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/basicInterfaces.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nvar t;!function(e){e[e.Object=0]=\"Object\",e[e.RenderGeometry=1]=\"RenderGeometry\",e[e.External=2]=\"External\",e[e.COUNT=3]=\"COUNT\"}(t||(t={}));class r{constructor(){this._items=[]}addObject(e,r){this._items.push({type:t.Object,objectStateId:r,object:e})}addRenderGeometry(e,r,o){this._items.push({type:t.RenderGeometry,objectStateId:r,renderGeometry:e,owner:o})}addExternal(e,r){this._items.push({type:t.External,objectStateId:r,remove:e})}remove(e){for(let t=this._items.length-1;t>=0;--t){const r=this._items[t];r.objectStateId===e&&(this._removeObjectStateItem(r),this._items.splice(t,1))}}removeObject(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.Object&&o.object===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeRenderGeometry(e){for(let r=this._items.length-1;r>=0;--r){const o=this._items[r];o.type===t.RenderGeometry&&o.renderGeometry===e&&(this._removeObjectStateItem(o),this._items.splice(r,1))}}removeAll(){this._items.forEach((e=>{this._removeObjectStateItem(e)})),this._items=[]}_removeObjectStateItem(r){switch(r.type){case t.Object:r.objectStateId.channel===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.Object3DState.Highlight?r.object.removeHighlight(r.objectStateId):r.objectStateId.channel===_basicInterfaces_js__WEBPACK_IMPORTED_MODULE_0__.Object3DState.MaskOccludee&&r.object.removeOcclude(r.objectStateId);break;case t.RenderGeometry:r.owner.removeRenderGeometryObjectState(r.renderGeometry,r.objectStateId);break;case t.External:r.remove(r.objectStateId)}}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3DStateSet.js?");

/***/ })

}]);