"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkarcgis_starter"] = self["webpackChunkarcgis_starter"] || []).push([["node_modules_arcgis_core_layers_graphics_sources_WFSSourceWorker_js"],{

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ E)\n/* harmony export */ });\n/* harmony import */ var _core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/asyncUtils.js */ \"./node_modules/@arcgis/core/core/asyncUtils.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/promiseUtils.js */ \"./node_modules/@arcgis/core/core/promiseUtils.js\");\n/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../geometry/support/spatialReferenceUtils.js */ \"./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\");\n/* harmony import */ var _featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../featureConversionUtils.js */ \"./node_modules/@arcgis/core/layers/graphics/featureConversionUtils.js\");\n/* harmony import */ var _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/FeatureStore.js */ \"./node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js\");\n/* harmony import */ var _data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/projectionSupport.js */ \"./node_modules/@arcgis/core/layers/graphics/data/projectionSupport.js\");\n/* harmony import */ var _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../data/QueryEngine.js */ \"./node_modules/@arcgis/core/layers/graphics/data/QueryEngine.js\");\n/* harmony import */ var _geojson_geojson_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./geojson/geojson.js */ \"./node_modules/@arcgis/core/layers/graphics/sources/geojson/geojson.js\");\n/* harmony import */ var _support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./support/sourceUtils.js */ \"./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js\");\n/* harmony import */ var _ogc_wfsUtils_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ogc/wfsUtils.js */ \"./node_modules/@arcgis/core/layers/ogc/wfsUtils.js\");\n/* harmony import */ var _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../support/FieldsIndex.js */ \"./node_modules/@arcgis/core/layers/support/FieldsIndex.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass E{constructor(){this._queryEngine=null,this._customParameters=null,this._snapshotFeatures=async e=>{const{objectIdField:t}=this._queryEngine,r=await (0,_ogc_wfsUtils_js__WEBPACK_IMPORTED_MODULE_12__.getFeature)(this._getFeatureUrl??\"\",this._featureType.typeName,this._getFeatureOutputFormat,{customParameters:this._customParameters,dateFields:this._queryEngine.fieldsIndex.dateFields.map((e=>e.name)),signal:e});await (0,_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_10__.validateGeoJSON)(r),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(e);const a=(0,_geojson_geojson_js__WEBPACK_IMPORTED_MODULE_10__.createOptimizedFeatures)(r,{geometryType:this._queryEngine.geometryType,hasZ:!1,objectIdField:t});if(!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.equals)(this._queryEngine.spatialReference,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.WGS84))for(const i of a)(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.isSome)(i.geometry)&&(i.geometry=(0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertFromGeometry)((0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__.project)((0,_featureConversionUtils_js__WEBPACK_IMPORTED_MODULE_6__.convertToGeometry)(i.geometry,this._queryEngine.geometryType,!1,!1),_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.WGS84,this._queryEngine.spatialReference)));let o=1;for(const s of a){const e={};(0,_support_sourceUtils_js__WEBPACK_IMPORTED_MODULE_11__.mixAttributes)(this._fieldsIndex,e,s.attributes,!0),s.attributes=e,null==s.attributes[t]&&(s.objectId=s.attributes[t]=o++)}return a}}destroy(){this._queryEngine?.destroy(),this._queryEngine=null}async load(e,t){const{getFeatureUrl:r,getFeatureOutputFormat:s,spatialReference:o,fields:n,geometryType:u,featureType:p,objectIdField:h,customParameters:c}=e;this._featureType=p,this._customParameters=c,this._getFeatureUrl=r,this._getFeatureOutputFormat=s,this._fieldsIndex=new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"](n),await this._checkProjection(o),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.throwIfAborted)(t),this._queryEngine=new _data_QueryEngine_js__WEBPACK_IMPORTED_MODULE_9__.QueryEngine({fields:n,geometryType:u,hasM:!1,hasZ:!1,objectIdField:h,spatialReference:o,timeInfo:null,featureStore:new _data_FeatureStore_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({geometryType:u,hasM:!1,hasZ:!1})});const m=await this._snapshotFeatures((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_3__.unwrap)(t.signal));return this._queryEngine.featureStore.addMany(m),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async applyEdits(){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"wfs-source:editing-not-supported\",\"applyEdits() is not supported on WFSLayer\")}async queryFeatures(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQuery(e,t.signal)}async queryFeatureCount(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForCount(e,t.signal)}async queryObjectIds(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForIds(e,t.signal)}async queryExtent(e={},t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForExtent(e,t.signal)}async querySnapping(e,t={}){return await this._waitSnapshotComplete(),this._queryEngine.executeQueryForSnapping(e,t.signal)}async refresh(s){return this._customParameters=s,this._snapshotTask?.abort(),this._snapshotTask=(0,_core_asyncUtils_js__WEBPACK_IMPORTED_MODULE_0__.createTask)(this._snapshotFeatures),this._snapshotTask.promise.then((e=>{this._queryEngine.featureStore.clear(),e&&this._queryEngine.featureStore.addMany(e)}),(e=>{this._queryEngine.featureStore.clear(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_4__.isAbortError)(e)||_core_Logger_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getLogger(\"esri.layers.WFSLayer\").error(new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"wfs-layer:getfeature-error\",\"An error occurred during the GetFeature request\",{error:e}))})),await this._waitSnapshotComplete(),{extent:(await this._queryEngine.fetchRecomputedExtents()).fullExtent}}async _waitSnapshotComplete(){if(this._snapshotTask&&!this._snapshotTask.finished){try{await this._snapshotTask.promise}catch{}return this._waitSnapshotComplete()}}async _checkProjection(e){try{await (0,_data_projectionSupport_js__WEBPACK_IMPORTED_MODULE_8__.checkProjectionSupport)(_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_5__.WGS84,e)}catch{throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"unsupported-projection\",\"Projection not supported\",{spatialReference:e})}}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/layers/graphics/sources/WFSSourceWorker.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createFeatureEditErrorResult\": () => (/* binding */ a),\n/* harmony export */   \"createFeatureEditSuccessResult\": () => (/* binding */ f),\n/* harmony export */   \"loadGeometryEngineForSimplify\": () => (/* binding */ w),\n/* harmony export */   \"mixAttributes\": () => (/* binding */ m),\n/* harmony export */   \"simplify\": () => (/* binding */ g)\n/* harmony export */ });\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../geometry/support/spatialReferenceUtils.js */ \"./node_modules/@arcgis/core/geometry/support/spatialReferenceUtils.js\");\n/* harmony import */ var _support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../support/fieldUtils.js */ \"./node_modules/@arcgis/core/layers/support/fieldUtils.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nclass l{constructor(){this.code=null,this.description=null}}class u{constructor(e){this.error=new l,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function a(e){return new u(e)}class c{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function f(e){return new c(e)}const d=new Set;function m(e,t,r,s=!1,o){d.clear();for(const l in r){const u=e.get(l);if(!u)continue;const c=r[l],f=p(u,c);if(f!==c&&o&&o.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:u,originalValue:c,sanitizedValue:f}}),d.add(u.name),u&&(s||u.editable)){const e=(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.validateFieldValue)(u,f);if(e)return a((0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.validationErrorToString)(e,u,f));t[u.name]=f}}for(const n of e?.requiredFields??[])if(!d.has(n.name))return a(`missing required field \"${n.name}\"`);return null}function p(e,t){let n=t;return\"string\"==typeof t&&(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isNumericField)(e)?n=parseFloat(t):null!=t&&(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.isStringField)(e)&&\"string\"!=typeof t&&(n=String(t)),(0,_support_fieldUtils_js__WEBPACK_IMPORTED_MODULE_2__.sanitizeNullFieldValue)(n)}let h;function g(n,i){if(!n||!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.isValid)(i))return n;if(\"rings\"in n||\"paths\"in n){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isNone)(h))throw new TypeError(\"geometry engine not loaded\");return h.simplify(i,n)}return n}async function y(){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.isNone)(h)&&(h=await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_arcgis_core_chunks_geometryEngineBase_js\"), __webpack_require__.e(\"node_modules_arcgis_core_geometry_geometryEngineJSON_js-_997e1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../../geometry/geometryEngineJSON.js */ \"./node_modules/@arcgis/core/geometry/geometryEngineJSON.js\"))),h}async function w(e,n){!(0,_geometry_support_spatialReferenceUtils_js__WEBPACK_IMPORTED_MODULE_1__.isValid)(e)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await y()}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js?");

/***/ })

}]);