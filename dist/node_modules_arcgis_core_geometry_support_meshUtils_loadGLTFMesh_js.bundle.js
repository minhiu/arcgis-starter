"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkarcgis_starter"] = self["webpackChunkarcgis_starter"] || []).push([["node_modules_arcgis_core_geometry_support_meshUtils_loadGLTFMesh_js"],{

/***/ "./node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadGLTFMesh\": () => (/* binding */ X)\n/* harmony export */ });\n/* harmony import */ var _Color_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../Color.js */ \"./node_modules/@arcgis/core/Color.js\");\n/* harmony import */ var _request_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../request.js */ \"./node_modules/@arcgis/core/request.js\");\n/* harmony import */ var _core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/MapUtils.js */ \"./node_modules/@arcgis/core/core/MapUtils.js\");\n/* harmony import */ var _core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/mathUtils.js */ \"./node_modules/@arcgis/core/core/mathUtils.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _chunks_mat3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../chunks/mat3.js */ \"./node_modules/@arcgis/core/chunks/mat3.js\");\n/* harmony import */ var _chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../chunks/mat3f64.js */ \"./node_modules/@arcgis/core/chunks/mat3f64.js\");\n/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../chunks/vec3f64.js */ \"./node_modules/@arcgis/core/chunks/vec3f64.js\");\n/* harmony import */ var _chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../chunks/vec4f64.js */ \"./node_modules/@arcgis/core/chunks/vec4f64.js\");\n/* harmony import */ var _MeshComponent_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../MeshComponent.js */ \"./node_modules/@arcgis/core/geometry/support/MeshComponent.js\");\n/* harmony import */ var _MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../MeshMaterialMetallicRoughness.js */ \"./node_modules/@arcgis/core/geometry/support/MeshMaterialMetallicRoughness.js\");\n/* harmony import */ var _MeshTexture_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../MeshTexture.js */ \"./node_modules/@arcgis/core/geometry/support/MeshTexture.js\");\n/* harmony import */ var _MeshVertexAttributes_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../MeshVertexAttributes.js */ \"./node_modules/@arcgis/core/geometry/support/MeshVertexAttributes.js\");\n/* harmony import */ var _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../buffer/BufferView.js */ \"./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js\");\n/* harmony import */ var _chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../chunks/vec32.js */ \"./node_modules/@arcgis/core/chunks/vec32.js\");\n/* harmony import */ var _chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../chunks/vec42.js */ \"./node_modules/@arcgis/core/chunks/vec42.js\");\n/* harmony import */ var _buffer_utils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../buffer/utils.js */ \"./node_modules/@arcgis/core/geometry/support/buffer/utils.js\");\n/* harmony import */ var _georeference_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./georeference.js */ \"./node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js\");\n/* harmony import */ var _views_3d_glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../views/3d/glTF/DefaultLoadingContext.js */ \"./node_modules/@arcgis/core/views/3d/glTF/DefaultLoadingContext.js\");\n/* harmony import */ var _views_3d_glTF_loader_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../views/3d/glTF/loader.js */ \"./node_modules/@arcgis/core/views/3d/glTF/loader.js\");\n/* harmony import */ var _views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../views/3d/glTF/internal/indexUtils.js */ \"./node_modules/@arcgis/core/views/3d/glTF/internal/indexUtils.js\");\n/* harmony import */ var _views_3d_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../views/3d/glTF/internal/resourceUtils.js */ \"./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js\");\n/* harmony import */ var _views_3d_webgl_engine_lib_Indices_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../views/3d/webgl-engine/lib/Indices.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Indices.js\");\n/* harmony import */ var _views_3d_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultMaterial_COLOR_GAMMA.js\");\n/* harmony import */ var _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../views/webgl/enums.js */ \"./node_modules/@arcgis/core/views/webgl/enums.js\");\n/* harmony import */ var _chunks_vec33_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../chunks/vec33.js */ \"./node_modules/@arcgis/core/chunks/vec33.js\");\n/* harmony import */ var _chunks_vec43_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../chunks/vec43.js */ \"./node_modules/@arcgis/core/chunks/vec43.js\");\n/* harmony import */ var _chunks_vec22_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../chunks/vec22.js */ \"./node_modules/@arcgis/core/chunks/vec22.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nasync function X(e,t,r){const o=new _views_3d_glTF_DefaultLoadingContext_js__WEBPACK_IMPORTED_MODULE_18__.DefaultLoadingContext(Y(r)),s=(await (0,_views_3d_glTF_loader_js__WEBPACK_IMPORTED_MODULE_19__.loadGLTF)(o,t,r,!0)).model,i=s.lods.shift(),a=new Map,c=new Map;s.textures.forEach(((e,t)=>a.set(t,re(e)))),s.materials.forEach(((e,t)=>c.set(t,oe(e,a))));const u=te(i);for(const n of u.parts)ne(u,n,c);const{position:l,normal:f,tangent:m,color:p,texCoord0:d}=u.vertexAttributes,x={position:l.typedBuffer,normal:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(f)?f.typedBuffer:null,tangent:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(m)?m.typedBuffer:null,uv:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(d)?d.typedBuffer:null,color:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(p)?p.typedBuffer:null},T=(0,_georeference_js__WEBPACK_IMPORTED_MODULE_17__.georeferenceByTransform)(x,e,r);return{transform:T.transform,components:u.components,spatialReference:e.spatialReference,vertexAttributes:new _MeshVertexAttributes_js__WEBPACK_IMPORTED_MODULE_12__.MeshVertexAttributes({position:T.vertexAttributes.position,normal:T.vertexAttributes.normal,tangent:T.vertexAttributes.tangent,color:x.color,uv:x.uv})}}function Y(e){const r=e?.resolveFile;return r?{busy:!1,request:async(e,o,s)=>{const i=r(e),a=\"image\"===o?\"image\":\"binary\"===o?\"array-buffer\":\"json\";return(await (0,_request_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(i,{responseType:a,signal:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(s)?s.signal:null})).data}}:null}function Z(e,t){if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isNone)(e))return\"-\";const o=e.typedBuffer;return`${(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(t,o.buffer,(()=>t.size))}/${o.byteOffset}/${o.byteLength}`}function ee(e){return (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(e)?e.toString():\"-\"}function te(e){let t=0;const has={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,n=new Map,s=[];for(const i of e.parts){const{attributes:{position:e,normal:a,color:c,tangent:u,texCoord0:l}}=i,f=`\\n      ${Z(e,o)}/\\n      ${Z(a,o)}/\\n      ${Z(c,o)}/\\n      ${Z(u,o)}/\\n      ${Z(l,o)}/\\n      ${ee(i.transform)}\\n    `;let m=!1;const p=(0,_core_MapUtils_js__WEBPACK_IMPORTED_MODULE_2__.getOrCreateMapValue)(n,f,(()=>(m=!0,{start:t,length:e.count})));m&&(t+=e.count),a&&(has.normal=!0),c&&(has.color=!0),u&&(has.tangent=!0),l&&(has.texCoord0=!0),s.push({gltf:i,writeVertices:m,region:p})}return{vertexAttributes:{position:(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_16__.createBuffer)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec3f64,t),normal:has.normal?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_16__.createBuffer)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec3f,t):null,tangent:has.tangent?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_16__.createBuffer)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec4f,t):null,color:has.color?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_16__.createBuffer)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec4u8,t):null,texCoord0:has.texCoord0?(0,_buffer_utils_js__WEBPACK_IMPORTED_MODULE_16__.createBuffer)(_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec2f,t):null},parts:s,components:[]}}function re(e){return new _MeshTexture_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]({data:((0,_views_3d_glTF_internal_resourceUtils_js__WEBPACK_IMPORTED_MODULE_21__.isEncodedMeshTexture)(e.data),e.data),wrap:ce(e.parameters.wrap)})}function oe(t,r){const o=new _Color_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](fe(t.color,t.opacity)),n=t.emissiveFactor?new _Color_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](me(t.emissiveFactor)):null;return new _MeshMaterialMetallicRoughness_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]({color:o,colorTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrap)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t.textureColor,(e=>r.get(e)))),normalTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrap)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t.textureNormal,(e=>r.get(e)))),emissiveColor:n,emissiveTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrap)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t.textureEmissive,(e=>r.get(e)))),occlusionTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrap)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t.textureOcclusion,(e=>r.get(e)))),alphaMode:ae(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.unwrap)((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.applySome)(t.textureMetallicRoughness,(e=>r.get(e)))),colorTextureTransform:t.colorTextureTransform,normalTextureTransform:t.normalTextureTransform,occlusionTextureTransform:t.occlusionTextureTransform,emissiveTextureTransform:t.emissiveTextureTransform,metallicRoughnessTextureTransform:t.metallicRoughnessTextureTransform})}function ne(e,t,r){t.writeVertices&&se(e,t);const o=t.gltf,n=ie(o.indices||o.attributes.position.count,o.primitiveType),s=t.region.start;if(s)for(let i=0;i<n.length;i++)n[i]+=s;e.components.push(new _MeshComponent_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]({faces:n,material:r.get(o.material),trustSourceNormals:!0}))}function se(e,t){const{position:r,normal:s,tangent:i,color:a,texCoord0:l}=e.vertexAttributes,f=t.region.start,{attributes:m,transform:p}=t.gltf,d=m.position.count;if((0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.t)(r.slice(f,d),m.position,p),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(m.normal)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(s)){const e=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_5__.b)((0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),p),t=s.slice(f,d);(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.a)(t,m.normal,e),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasScaling)(e)&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.n)(t,t)}else (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(s)&&(0,_chunks_vec33_js__WEBPACK_IMPORTED_MODULE_25__.f)(s,0,0,1,{dstIndex:f,count:d});if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(m.tangent)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(i)){const e=(0,_chunks_mat3_js__WEBPACK_IMPORTED_MODULE_5__.b)((0,_chunks_mat3f64_js__WEBPACK_IMPORTED_MODULE_6__.c)(),p),t=i.slice(f,d);(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.t)(t,m.tangent,e),(0,_core_mathUtils_js__WEBPACK_IMPORTED_MODULE_3__.hasScaling)(e)&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.n)(t,t)}else (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(i)&&(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_26__.f)(i,0,0,1,1,{dstIndex:f,count:d});if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(m.texCoord0)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(l)?(0,_chunks_vec22_js__WEBPACK_IMPORTED_MODULE_27__.n)(l.slice(f,d),m.texCoord0):(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(l)&&(0,_chunks_vec22_js__WEBPACK_IMPORTED_MODULE_27__.f)(l,0,0,{dstIndex:f,count:d}),(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(m.color)&&(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(a)){const e=m.color,t=a.slice(f,d);if(4===e.elementCount)e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec4f?(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.s)(t,e,255):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec4u8?(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_26__.c)(t,e):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec4u16&&(0,_chunks_vec42_js__WEBPACK_IMPORTED_MODULE_15__.a)(t,e,8);else{(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_26__.f)(t,255,255,255,255);const r=_buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec3u8.fromTypedArray(t.typedBuffer,t.typedBufferStride);e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec3f?(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.s)(r,e,255):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec3u8?(0,_chunks_vec33_js__WEBPACK_IMPORTED_MODULE_25__.c)(r,e):e instanceof _buffer_BufferView_js__WEBPACK_IMPORTED_MODULE_13__.BufferViewVec3u16&&(0,_chunks_vec32_js__WEBPACK_IMPORTED_MODULE_14__.b)(r,e,8)}}else (0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_4__.isSome)(a)&&(0,_chunks_vec43_js__WEBPACK_IMPORTED_MODULE_26__.f)(a.slice(f,d),255,255,255,255)}function ie(e,t){switch(t){case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.PrimitiveType.TRIANGLES:return (0,_views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_20__.trianglesToTriangles)(e,_views_3d_webgl_engine_lib_Indices_js__WEBPACK_IMPORTED_MODULE_22__.generateIndexArray);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.PrimitiveType.TRIANGLE_STRIP:return (0,_views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_20__.triangleStripToTriangles)(e);case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.PrimitiveType.TRIANGLE_FAN:return (0,_views_3d_glTF_internal_indexUtils_js__WEBPACK_IMPORTED_MODULE_20__.triangleFanToTriangles)(e)}}function ae(e){switch(e){case\"OPAQUE\":return\"opaque\";case\"MASK\":return\"mask\";case\"BLEND\":return\"blend\"}}function ce(e){return{horizontal:ue(e.s),vertical:ue(e.t)}}function ue(e){switch(e){case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.TextureWrapMode.CLAMP_TO_EDGE:return\"clamp\";case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.TextureWrapMode.MIRRORED_REPEAT:return\"mirror\";case _views_webgl_enums_js__WEBPACK_IMPORTED_MODULE_24__.TextureWrapMode.REPEAT:return\"repeat\"}}function le(e){return e**(1/_views_3d_webgl_engine_materials_DefaultMaterial_COLOR_GAMMA_js__WEBPACK_IMPORTED_MODULE_23__.COLOR_GAMMA)*255}function fe(e,t){return (0,_chunks_vec4f64_js__WEBPACK_IMPORTED_MODULE_8__.f)(le(e[0]),le(e[1]),le(e[2]),t)}function me(e){return (0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_7__.f)(le(e[0]),le(e[1]),le(e[2]))}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/geometry/support/meshUtils/loadGLTFMesh.js?");

/***/ })

}]);