"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkarcgis_starter"] = self["webpackChunkarcgis_starter"] || []).push([["node_modules_arcgis_core_symbols_support_previewCIMSymbol_js"],{

/***/ "./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"previewCIMSymbol\": () => (/* binding */ d)\n/* harmony export */ });\n/* harmony import */ var _core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../core/screenUtils.js */ \"./node_modules/@arcgis/core/core/screenUtils.js\");\n/* harmony import */ var _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cim/CIMSymbolHelper.js */ \"./node_modules/@arcgis/core/symbols/cim/CIMSymbolHelper.js\");\n/* harmony import */ var _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cim/CIMSymbolRasterizer.js */ \"./node_modules/@arcgis/core/symbols/cim/CIMSymbolRasterizer.js\");\n/* harmony import */ var _cim_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../cim/utils.js */ \"./node_modules/@arcgis/core/symbols/cim/utils.js\");\n/* harmony import */ var _previewUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./previewUtils.js */ \"./node_modules/@arcgis/core/symbols/support/previewUtils.js\");\n/* harmony import */ var _renderUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./renderUtils.js */ \"./node_modules/@arcgis/core/symbols/support/renderUtils.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst h=new _cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__.CIMSymbolRasterizer(null,!0),m=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_4__.SymbolSizeDefaults.size),c=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_4__.SymbolSizeDefaults.maxSize),u=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.px2pt)(_previewUtils_js__WEBPACK_IMPORTED_MODULE_4__.SymbolSizeDefaults.lineWidth),f=1;function y(e){const t=e?.size;if(\"number\"==typeof t)return{width:t,height:t};return{width:null!=t&&\"object\"==typeof t&&\"width\"in t?t.width:null,height:null!=t&&\"object\"==typeof t&&\"height\"in t?t.height:null}}async function d(e,l={}){const{node:s,opacity:d,symbolConfig:p}=l,g=\"object\"==typeof p&&\"isSquareFill\"in p&&p.isSquareFill,w=l.cimOptions||l,b=w.geometryType||(0,_cim_utils_js__WEBPACK_IMPORTED_MODULE_3__.mapCIMSymbolToGeometryType)(e?.data?.symbol),M=y(l),{feature:j,fieldMap:v}=w;if(null==M.width||null==M.height){const t=await _cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.OverrideHelper.resolveSymbolOverrides(e.data,j,null,v,b);if(!t)return null;(e=e.clone()).data={type:\"CIMSymbolReference\",symbol:t},e.data.primitiveOverrides=void 0;const l=[];_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.fetchResources(t,h.resourceManager,l),l.length>0&&await Promise.all(l);const n=_cim_CIMSymbolHelper_js__WEBPACK_IMPORTED_MODULE_1__.CIMSymbolHelper.getEnvelope(t,null,h.resourceManager),r=n?.width,s=n?.height;M.width=\"esriGeometryPolygon\"===b?m:\"esriGeometryPolyline\"===b?u:null!=r&&isFinite(r)?Math.min(r,c):m,M.height=\"esriGeometryPolygon\"===b?m:null!=s&&isFinite(s)?Math.max(Math.min(s,c),f):m}const S=await h.rasterizeCIMSymbolAsync(e,j,M,g||\"esriGeometryPolygon\"!==b?_cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__.GeometryStyle.Preview:_cim_CIMSymbolRasterizer_js__WEBPACK_IMPORTED_MODULE_2__.GeometryStyle.Legend,v,b);if(!S)return null;const{width:C,height:I}=S,P=document.createElement(\"canvas\");P.width=C,P.height=I;P.getContext(\"2d\").putImageData(S,0,0);const x=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(M.width),z=(0,_core_screenUtils_js__WEBPACK_IMPORTED_MODULE_0__.pt2px)(M.height),F=new Image(x,z);F.src=P.toDataURL(),null!=d&&(F.style.opacity=`${d}`);let G=F;if(null!=l.effectView){const e={shape:{type:\"image\",x:0,y:0,width:x,height:z,src:F.src},fill:null,stroke:null,offset:[0,0]};G=(0,_renderUtils_js__WEBPACK_IMPORTED_MODULE_5__.renderSymbol)([[e]],[x,z],{effectView:l.effectView})}return s&&G&&s.appendChild(G),G}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/symbols/support/previewCIMSymbol.js?");

/***/ })

}]);