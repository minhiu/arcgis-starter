"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkarcgis_starter"] = self["webpackChunkarcgis_starter"] || []).push([["node_modules_arcgis_core_views_interactive_snapping_featureSources_sceneLayerSource_SceneLaye-ae968f"],{

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ y)\n/* harmony export */ });\n/* harmony import */ var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/tslib.es6.js */ \"./node_modules/@arcgis/core/chunks/tslib.es6.js\");\n/* harmony import */ var _core_maybe_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../core/maybe.js */ \"./node_modules/@arcgis/core/core/maybe.js\");\n/* harmony import */ var _core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../core/promiseUtils.js */ \"./node_modules/@arcgis/core/core/promiseUtils.js\");\n/* harmony import */ var _core_Logger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../core/Logger.js */ \"./node_modules/@arcgis/core/core/Logger.js\");\n/* harmony import */ var _core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../core/accessorSupport/ensureType.js */ \"./node_modules/@arcgis/core/core/accessorSupport/ensureType.js\");\n/* harmony import */ var _core_arrayUtils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/arrayUtils.js */ \"./node_modules/@arcgis/core/core/arrayUtils.js\");\n/* harmony import */ var _core_Error_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../core/Error.js */ \"./node_modules/@arcgis/core/core/Error.js\");\n/* harmony import */ var _core_has_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/has.js */ \"./node_modules/@arcgis/core/core/has.js\");\n/* harmony import */ var _core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../../core/accessorSupport/decorators/subclass.js */ \"./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js\");\n/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ \"./node_modules/@arcgis/core/chunks/vec3.js\");\n/* harmony import */ var _chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../../chunks/vec3f64.js */ \"./node_modules/@arcgis/core/chunks/vec3f64.js\");\n/* harmony import */ var _geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../../geometry/support/lineSegment.js */ \"./node_modules/@arcgis/core/geometry/support/lineSegment.js\");\n/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../../chunks/sphere.js */ \"./node_modules/@arcgis/core/chunks/sphere.js\");\n/* harmony import */ var _layers_graphics_data_QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../../layers/graphics/data/QueryEngineResult.js */ \"./node_modules/@arcgis/core/layers/graphics/data/QueryEngineResult.js\");\n/* harmony import */ var _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../3d/webgl-engine/lib/Octree.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Octree.js\");\n/* harmony import */ var _3d_webgl_engine_lib_edgeRendering_edgeProcessing_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing.js */ \"./node_modules/@arcgis/core/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing.js\");\n/* harmony import */ var _sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./sceneLayerSnappingUtils.js */ \"./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nlet j=class{constructor(){this._idToComponent=new Map,this._components=new _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]((e=>e.bounds)),this._edges=new _3d_webgl_engine_lib_Octree_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]((e=>e.bounds)),this._tmpLineSegment=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__.create)(),this._tmpP1=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),this._tmpP2=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),this._tmpP3=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),this.remoteClient=null}async fetchCandidates(e,t){await Promise.resolve(),(0,_core_promiseUtils_js__WEBPACK_IMPORTED_MODULE_2__.throwIfAborted)(t),await this._ensureEdgeLocations(e,t);const s=[];return this._edges.forEachNeighbor((t=>(this._addCandidates(e,t,s),s.length<_sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_16__.MAX_CANDIDATE_COUNT)),e.bounds),{result:{candidates:s}}}async _ensureEdgeLocations(e,o){const i=[];if(this._components.forEachNeighbor((e=>{if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isNone)(e.info)){const{id:t,uid:s}=e;i.push({id:t,uid:s})}return!0}),e.bounds),!i.length)return;const n={components:i},r=await this.remoteClient.invoke(\"fetchAllEdgeLocations\",n,(0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.unwrapOr)(o,{}));for(const t of r.components)this._setFetchEdgeLocations(t)}async add(e){const t=new E(e.id,e.bounds);return this._idToComponent.set(t.id,t),this._components.add([t]),{result:{}}}async remove(e){const t=this._idToComponent.get(e.id);if(t){const e=[];this._edges.forEachNeighbor((s=>(s.component===t&&e.push(s),!0)),t.bounds),this._edges.remove(e),this._components.remove([t]),this._idToComponent.delete(t.id)}return{result:{}}}_setFetchEdgeLocations(e){const s=this._idToComponent.get(e.id);if((0,_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.isNone)(s)||e.uid!==s.uid)return;const o=_3d_webgl_engine_lib_edgeRendering_edgeProcessing_js__WEBPACK_IMPORTED_MODULE_15__.extractComponentsEdgeLocationsLayout.createView(e.locations),i=new Array(o.count),n=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)(),r=(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.c)();for(let t=0;t<o.count;t++){o.position0.getVec(t,n),o.position1.getVec(t,r);const d=(0,_sceneLayerSnappingUtils_js__WEBPACK_IMPORTED_MODULE_16__.boundsFromEdge)(n,r,e.origin),c=new C(s,t,d);i[t]=c}this._edges.add(i);const{objectIds:c,origin:a}=e;s.info={locations:o,objectIds:c,origin:a}}_addCandidates(e,t,s){const{info:o}=t.component,{origin:i,objectIds:r}=o,d=o.locations,c=d.position0.getVec(t.index,this._tmpP1),a=d.position1.getVec(t.index,this._tmpP2);(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.a)(c,c,i),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.a)(a,a,i);const p=r[d.componentIndex.get(t.index)];this._addEdgeCandidate(e,p,c,a,s),this._addVertexCandidate(e,p,c,s),this._addVertexCandidate(e,p,a,s)}_addEdgeCandidate(e,t,s,o,i){if(!(e.types&_layers_graphics_data_QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__.SnappingTypes.EDGE))return;const n=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.g)(e.bounds),d=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__.fromPoints)(s,o,this._tmpLineSegment),a=(0,_geometry_support_lineSegment_js__WEBPACK_IMPORTED_MODULE_11__.projectPoint)(d,n,this._tmpP3);(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.m)(e.bounds,a)&&i.push({type:\"edge\",objectId:t,target:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(a),distance:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.i)(n,a),start:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(s),end:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(o)})}_addVertexCandidate(e,t,s,o){if(!(e.types&_layers_graphics_data_QueryEngineResult_js__WEBPACK_IMPORTED_MODULE_13__.SnappingTypes.VERTEX))return;const i=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.g)(e.bounds);(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_12__.m)(e.bounds,s)&&o.push({type:\"vertex\",objectId:t,target:(0,_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_10__.a)(s),distance:(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_9__.i)(i,s)})}};j=(0,_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__._)([(0,_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.subclass)(\"esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker\")],j);const y=j;class E{constructor(e,t){this.id=e,this.bounds=t,this.info=null,this.uid=++E.uid}}E.uid=0;class C{constructor(e,t,s){this.component=e,this.index=t,this.bounds=s}}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker.js?");

/***/ }),

/***/ "./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js":
/*!*************************************************************************************************************************!*\
  !*** ./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAX_CANDIDATE_COUNT\": () => (/* binding */ t),\n/* harmony export */   \"boundsFromEdge\": () => (/* binding */ a)\n/* harmony export */ });\n/* harmony import */ var _chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../chunks/vec3.js */ \"./node_modules/@arcgis/core/chunks/vec3.js\");\n/* harmony import */ var _chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../chunks/sphere.js */ \"./node_modules/@arcgis/core/chunks/sphere.js\");\n/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nconst t=1e3;function a(t,a,e){const i=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__.c)(),m=(0,_chunks_sphere_js__WEBPACK_IMPORTED_MODULE_1__.g)(i);return (0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.z)(m,m,t,.5),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.z)(m,m,a,.5),i[3]=(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.i)(m,t),(0,_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_0__.a)(m,m,e),i}\n\n\n//# sourceURL=webpack://arcgis-starter/./node_modules/@arcgis/core/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils.js?");

/***/ })

}]);